{"version":3,"file":"Integrations-ELrUTFfw.js","sources":["../../src/components/PrintifyIntegration.tsx","../../src/components/ProfitMarginCalculator.tsx","../../src/components/PrintfulIntegration.tsx","../../src/components/SocialMediaScheduler.tsx","../../src/components/GoogleCalendarIntegration.tsx","../../src/pages/Integrations.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { supabase } from '@/lib/supabase';\nimport { Card } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Badge } from '@/components/ui/badge';\nimport { useToast } from '@/hooks/use-toast';\nimport { Package, RefreshCw, CheckCircle } from 'lucide-react';\n\nexport default function PrintifyIntegration() {\n  const [shops, setShops] = useState<any[]>([]);\n  const [selectedShop, setSelectedShop] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [connected, setConnected] = useState(false);\n  const { toast } = useToast();\n\n  useEffect(() => {\n    loadShops();\n    checkConnection();\n  }, []);\n\n  const loadShops = async () => {\n    setLoading(true);\n    const { data, error } = await supabase.functions.invoke('printify-get-shops');\n    \n    if (error) {\n      toast({ title: 'Error loading shops', description: error.message, variant: 'destructive' });\n    } else if (data?.shops) {\n      setShops(data.shops);\n    }\n    setLoading(false);\n  };\n\n  const checkConnection = async () => {\n    const { data: { user } } = await supabase.auth.getUser();\n    if (!user) return;\n\n    const { data } = await supabase\n      .from('integrations')\n      .select('*')\n      .eq('user_id', user.id)\n      .eq('type', 'printify')\n      .single();\n\n    if (data) {\n      setConnected(true);\n      setSelectedShop(data.config?.shopId);\n    }\n  };\n\n  const saveConnection = async () => {\n    const { data: { user } } = await supabase.auth.getUser();\n    if (!user || !selectedShop) return;\n\n    const { error } = await supabase\n      .from('integrations')\n      .upsert({\n        user_id: user.id,\n        type: 'printify',\n        config: { shopId: selectedShop },\n        connected: true\n      });\n\n    if (error) {\n      toast({ title: 'Error', description: error.message, variant: 'destructive' });\n    } else {\n      setConnected(true);\n      toast({ title: 'Printify connected successfully!' });\n    }\n  };\n\n  return (\n    <Card className=\"p-6\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <div className=\"flex items-center gap-3\">\n          <Package className=\"w-8 h-8 text-green-600\" />\n          <div>\n            <h3 className=\"text-xl font-bold\">Printify Integration</h3>\n            <p className=\"text-sm text-gray-500\">Automatic order fulfillment</p>\n          </div>\n        </div>\n        {connected && <Badge variant=\"default\"><CheckCircle className=\"w-3 h-3 mr-1\" />Connected</Badge>}\n      </div>\n\n      <div className=\"space-y-4\">\n        <div>\n          <label className=\"block text-sm font-medium mb-2\">Select Printify Shop</label>\n          <Select value={selectedShop} onValueChange={setSelectedShop}>\n            <SelectTrigger>\n              <SelectValue placeholder=\"Choose a shop...\" />\n            </SelectTrigger>\n            <SelectContent>\n              {shops.map(shop => (\n                <SelectItem key={shop.id} value={shop.id.toString()}>\n                  {shop.title}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n        </div>\n\n        <div className=\"flex gap-2\">\n          <Button onClick={saveConnection} disabled={!selectedShop || loading}>\n            {connected ? 'Update Connection' : 'Connect'}\n          </Button>\n          <Button variant=\"outline\" onClick={loadShops} disabled={loading}>\n            <RefreshCw className=\"w-4 h-4 mr-2\" />\n            Refresh Shops\n          </Button>\n        </div>\n      </div>\n    </Card>\n  );\n}\n","import { useState } from 'react';\nimport { Card } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Calculator, TrendingUp } from 'lucide-react';\n\nexport default function ProfitMarginCalculator() {\n  const [cost, setCost] = useState('');\n  const [price, setPrice] = useState('');\n  const [shipping, setShipping] = useState('');\n\n  const calculateProfit = () => {\n    const c = parseFloat(cost) || 0;\n    const p = parseFloat(price) || 0;\n    const s = parseFloat(shipping) || 0;\n    const profit = p - c - s;\n    const margin = p > 0 ? ((profit / p) * 100) : 0;\n    return { profit, margin };\n  };\n\n  const { profit, margin } = calculateProfit();\n\n  return (\n    <Card className=\"p-6\">\n      <div className=\"flex items-center gap-3 mb-6\">\n        <Calculator className=\"w-6 h-6 text-blue-600\" />\n        <h3 className=\"text-xl font-bold\">Profit Margin Calculator</h3>\n      </div>\n\n      <div className=\"space-y-4\">\n        <div>\n          <Label>Product Cost (from Printify)</Label>\n          <Input\n            type=\"number\"\n            step=\"0.01\"\n            value={cost}\n            onChange={e => setCost(e.target.value)}\n            placeholder=\"0.00\"\n          />\n        </div>\n\n        <div>\n          <Label>Selling Price</Label>\n          <Input\n            type=\"number\"\n            step=\"0.01\"\n            value={price}\n            onChange={e => setPrice(e.target.value)}\n            placeholder=\"0.00\"\n          />\n        </div>\n\n        <div>\n          <Label>Shipping Cost</Label>\n          <Input\n            type=\"number\"\n            step=\"0.01\"\n            value={shipping}\n            onChange={e => setShipping(e.target.value)}\n            placeholder=\"0.00\"\n          />\n        </div>\n\n        <div className=\"pt-4 border-t\">\n          <div className=\"flex justify-between items-center mb-2\">\n            <span className=\"text-sm text-gray-600\">Net Profit</span>\n            <span className={`text-2xl font-bold ${profit >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n              ${profit.toFixed(2)}\n            </span>\n          </div>\n          <div className=\"flex justify-between items-center\">\n            <span className=\"text-sm text-gray-600\">Profit Margin</span>\n            <div className=\"flex items-center gap-2\">\n              <TrendingUp className=\"w-4 h-4 text-green-600\" />\n              <span className=\"text-xl font-semibold\">{margin.toFixed(1)}%</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Card>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { supabase } from '@/lib/supabase';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Card } from '@/components/ui/card';\nimport { Label } from '@/components/ui/label';\nimport { Switch } from '@/components/ui/switch';\nimport { Save, Package } from 'lucide-react';\nimport { toast } from 'sonner';\n\nexport function PrintfulIntegration() {\n  const [apiKey, setApiKey] = useState('');\n  const [profitMargin, setProfitMargin] = useState(30);\n  const [autoFulfill, setAutoFulfill] = useState(false);\n  const [webhookUrl, setWebhookUrl] = useState('');\n  const [loading, setLoading] = useState(false);\n\n\n  useEffect(() => {\n    loadSettings();\n    // Set webhook URL\n    const baseUrl = window.location.origin.includes('localhost') \n      ? 'https://api.databasepad.com'\n      : window.location.origin;\n    setWebhookUrl(`${baseUrl}/functions/v1/printful-webhook-handler`);\n  }, []);\n\n\n  const loadSettings = async () => {\n    const { data: { user } } = await supabase.auth.getUser();\n    if (!user) return;\n\n    const { data } = await supabase\n      .from('printful_settings')\n      .select('*')\n      .eq('user_id', user.id)\n      .single();\n\n    if (data) {\n      setApiKey(data.api_key || '');\n      setProfitMargin(data.default_profit_margin || 30);\n      setAutoFulfill(data.auto_fulfill || false);\n    }\n  };\n\n  const saveSettings = async () => {\n    setLoading(true);\n    try {\n      const { data: { user } } = await supabase.auth.getUser();\n      if (!user) throw new Error('Not authenticated');\n\n      const { error } = await supabase.from('printful_settings').upsert({\n        user_id: user.id,\n        api_key: apiKey,\n        default_profit_margin: profitMargin,\n        auto_fulfill: autoFulfill,\n        updated_at: new Date().toISOString()\n      });\n\n      if (error) throw error;\n      toast.success('Printful settings saved!');\n    } catch (error: any) {\n      toast.error(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Card className=\"p-6\">\n      <div className=\"flex items-center gap-3 mb-6\">\n        <Package className=\"w-6 h-6 text-primary\" />\n        <h2 className=\"text-2xl font-bold\">Printful Integration</h2>\n      </div>\n\n      <div className=\"space-y-4\">\n        <div>\n          <Label htmlFor=\"apiKey\">Printful API Key</Label>\n          <Input\n            id=\"apiKey\"\n            type=\"password\"\n            value={apiKey}\n            onChange={(e) => setApiKey(e.target.value)}\n            placeholder=\"Enter your Printful API key\"\n          />\n        </div>\n\n        <div>\n          <Label htmlFor=\"profitMargin\">Default Profit Margin (%)</Label>\n          <Input\n            id=\"profitMargin\"\n            type=\"number\"\n            value={profitMargin}\n            onChange={(e) => setProfitMargin(Number(e.target.value))}\n            min=\"0\"\n            max=\"100\"\n          />\n        </div>\n\n        <div className=\"flex items-center justify-between\">\n          <Label htmlFor=\"autoFulfill\">Auto-fulfill orders</Label>\n          <Switch\n            id=\"autoFulfill\"\n            checked={autoFulfill}\n            onCheckedChange={setAutoFulfill}\n          />\n        </div>\n\n        <div className=\"border-t pt-4\">\n          <Label>Webhook URL</Label>\n          <div className=\"flex gap-2 mt-2\">\n            <Input\n              value={webhookUrl}\n              readOnly\n              className=\"bg-slate-50\"\n            />\n            <Button\n              variant=\"outline\"\n              onClick={() => {\n                navigator.clipboard.writeText(webhookUrl);\n                toast.success('Webhook URL copied!');\n              }}\n            >\n              Copy\n            </Button>\n          </div>\n          <p className=\"text-xs text-slate-500 mt-2\">\n            Add this webhook URL to your Printful dashboard to receive order status updates\n          </p>\n        </div>\n\n        <Button onClick={saveSettings} disabled={loading} className=\"w-full\">\n          <Save className=\"w-4 h-4 mr-2\" />\n          Save Settings\n        </Button>\n\n      </div>\n    </Card>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { supabase } from '@/lib/supabase';\nimport { Button } from '@/components/ui/button';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Card } from '@/components/ui/card';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Calendar, Clock, Send, Sparkles } from 'lucide-react';\nimport { toast } from 'sonner';\n\ninterface Post {\n  id: string;\n  platform: string;\n  caption: string;\n  image_url: string;\n  scheduled_time: string;\n  status: string;\n}\n\nexport function SocialMediaScheduler() {\n  const [posts, setPosts] = useState<Post[]>([]);\n  const [platform, setPlatform] = useState('instagram');\n  const [caption, setCaption] = useState('');\n  const [selectedProduct, setSelectedProduct] = useState('');\n  const [products, setProducts] = useState<any[]>([]);\n  const [scheduledTime, setScheduledTime] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    loadPosts();\n    loadProducts();\n  }, []);\n\n  const loadPosts = async () => {\n    const { data } = await supabase\n      .from('social_media_posts')\n      .select('*')\n      .order('scheduled_time', { ascending: true });\n    if (data) setPosts(data);\n  };\n\n  const loadProducts = async () => {\n    const { data } = await supabase.from('products').select('*');\n    if (data) setProducts(data);\n  };\n\n  const generateAICaption = async () => {\n    if (!selectedProduct) return;\n    setLoading(true);\n    try {\n      const product = products.find(p => p.id === selectedProduct);\n      const { data, error } = await supabase.functions.invoke('ai-campaign-generator', {\n        body: { \n          type: 'social',\n          productName: product.name,\n          productDescription: product.description\n        }\n      });\n      if (error) throw error;\n      setCaption(data.caption);\n      toast.success('AI caption generated!');\n    } catch (error: any) {\n      toast.error(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const schedulePost = async () => {\n    setLoading(true);\n    try {\n      const { data: { user } } = await supabase.auth.getUser();\n      if (!user) throw new Error('Not authenticated');\n\n      const product = products.find(p => p.id === selectedProduct);\n      \n      const { data, error } = await supabase.functions.invoke('social-media-scheduler', {\n        body: {\n          platform,\n          caption,\n          imageUrl: product?.image_url,\n          scheduledTime\n        }\n      });\n\n      if (error) throw error;\n      toast.success('Post scheduled!');\n      loadPosts();\n      setCaption('');\n      setScheduledTime('');\n    } catch (error: any) {\n      toast.error(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <Card className=\"p-6\">\n        <h2 className=\"text-2xl font-bold mb-4\">Schedule Social Media Post</h2>\n        \n        <div className=\"space-y-4\">\n          <Select value={selectedProduct} onValueChange={setSelectedProduct}>\n            <SelectTrigger>\n              <SelectValue placeholder=\"Select product\" />\n            </SelectTrigger>\n            <SelectContent>\n              {products.map(p => (\n                <SelectItem key={p.id} value={p.id}>{p.name}</SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n\n          <Select value={platform} onValueChange={setPlatform}>\n            <SelectTrigger>\n              <SelectValue />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"instagram\">Instagram</SelectItem>\n              <SelectItem value=\"facebook\">Facebook</SelectItem>\n              <SelectItem value=\"twitter\">Twitter</SelectItem>\n              <SelectItem value=\"linkedin\">LinkedIn</SelectItem>\n            </SelectContent>\n          </Select>\n\n          <div className=\"flex gap-2\">\n            <Textarea\n              value={caption}\n              onChange={(e) => setCaption(e.target.value)}\n              placeholder=\"Post caption...\"\n              rows={4}\n            />\n            <Button onClick={generateAICaption} disabled={loading || !selectedProduct}>\n              <Sparkles className=\"w-4 h-4\" />\n            </Button>\n          </div>\n\n          <Input\n            type=\"datetime-local\"\n            value={scheduledTime}\n            onChange={(e) => setScheduledTime(e.target.value)}\n          />\n\n          <Button onClick={schedulePost} disabled={loading || !caption} className=\"w-full\">\n            <Send className=\"w-4 h-4 mr-2\" />\n            Schedule Post\n          </Button>\n        </div>\n      </Card>\n\n      <div className=\"grid gap-4\">\n        {posts.map(post => (\n          <Card key={post.id} className=\"p-4\">\n            <div className=\"flex justify-between items-start\">\n              <div>\n                <p className=\"font-semibold capitalize\">{post.platform}</p>\n                <p className=\"text-sm text-muted-foreground\">{post.caption}</p>\n                <p className=\"text-xs text-muted-foreground mt-2\">\n                  {new Date(post.scheduled_time).toLocaleString()}\n                </p>\n              </div>\n              <span className=\"text-xs px-2 py-1 bg-primary/10 rounded\">{post.status}</span>\n            </div>\n          </Card>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { supabase } from '@/lib/supabase';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { Button } from '@/components/ui/button';\nimport { Calendar, CheckCircle, XCircle, RefreshCw } from 'lucide-react';\n\nexport default function GoogleCalendarIntegration() {\n  const { user } = useAuth();\n  const [integration, setIntegration] = useState<any>(null);\n  const [syncLogs, setSyncLogs] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [syncing, setSyncing] = useState(false);\n\n  useEffect(() => {\n    loadIntegration();\n    loadSyncLogs();\n  }, [user]);\n\n  const loadIntegration = async () => {\n    if (!user) return;\n    const { data: shopData } = await supabase.from('shops').select('id').eq('user_id', user.id).single();\n    if (shopData) {\n      const { data } = await supabase.from('integrations').select('*').eq('shop_id', shopData.id).eq('type', 'google_calendar').single();\n      setIntegration(data);\n    }\n    setLoading(false);\n  };\n\n  const loadSyncLogs = async () => {\n    if (!user) return;\n    const { data: shopData } = await supabase.from('shops').select('id').eq('user_id', user.id).single();\n    if (shopData) {\n      const { data } = await supabase.from('calendar_sync_logs').select('*, bookings(customer_name)').eq('shop_id', shopData.id).order('created_at', { ascending: false }).limit(10);\n      setSyncLogs(data || []);\n    }\n  };\n\n  const initiateOAuth = async () => {\n    try {\n      const { data, error } = await supabase.functions.invoke('google-oauth-initiate', { body: { userId: user?.id } });\n      if (error) throw error;\n      if (data?.authUrl) window.location.href = data.authUrl;\n    } catch (error) {\n      alert('Failed to initiate OAuth');\n    }\n  };\n\n  const disconnect = async () => {\n    if (!integration) return;\n    await supabase.from('integrations').update({ connected: false, access_token: null }).eq('id', integration.id);\n    loadIntegration();\n  };\n\n  const syncAllBookings = async () => {\n    setSyncing(true);\n    const { data: shopData } = await supabase.from('shops').select('id').eq('user_id', user?.id).single();\n    if (shopData) {\n      const { data: bookings } = await supabase.from('bookings').select('id').eq('shop_id', shopData.id).eq('status', 'scheduled');\n      for (const booking of bookings || []) {\n        await supabase.functions.invoke('google-calendar-sync', { body: { bookingId: booking.id, userId: user?.id } });\n      }\n    }\n    await loadSyncLogs();\n    setSyncing(false);\n  };\n\n  if (loading) return <div>Loading...</div>;\n\n  return (\n    <div className=\"bg-white rounded-lg shadow p-6\">\n      <div className=\"flex items-start justify-between mb-6\">\n        <div className=\"flex items-start gap-4\">\n          <Calendar className=\"h-10 w-10 text-blue-600\" />\n          <div>\n            <h3 className=\"text-xl font-semibold text-slate-900 mb-2\">Google Calendar</h3>\n            <p className=\"text-slate-600 mb-4\">Sync booking appointments automatically.</p>\n            {integration?.connected ? (\n              <div className=\"flex items-center gap-2 text-green-600 mb-2\">\n                <CheckCircle className=\"h-5 w-5\" />\n                <span className=\"font-medium\">Connected</span>\n              </div>\n            ) : (\n              <div className=\"flex items-center gap-2 text-slate-500 mb-2\">\n                <XCircle className=\"h-5 w-5\" />\n                <span>Not Connected</span>\n              </div>\n            )}\n          </div>\n        </div>\n        <div className=\"flex gap-2\">\n          {integration?.connected ? (\n            <>\n              <Button onClick={syncAllBookings} disabled={syncing} variant=\"outline\">\n                <RefreshCw className={`h-4 w-4 mr-2 ${syncing ? 'animate-spin' : ''}`} />\n                Sync Now\n              </Button>\n              <Button onClick={disconnect} variant=\"destructive\">Disconnect</Button>\n            </>\n          ) : (\n            <Button onClick={initiateOAuth} className=\"bg-blue-600 hover:bg-blue-700\">Connect Calendar</Button>\n          )}\n        </div>\n      </div>\n      {integration?.connected && syncLogs.length > 0 && (\n        <div className=\"mt-6 border-t pt-6\">\n          <h4 className=\"font-semibold text-slate-900 mb-4\">Recent Syncs</h4>\n          <div className=\"space-y-2\">\n            {syncLogs.map(log => (\n              <div key={log.id} className=\"flex items-center justify-between p-3 bg-slate-50 rounded\">\n                <div className=\"flex items-center gap-3\">\n                  {log.status === 'success' ? <CheckCircle className=\"h-4 w-4 text-green-600\" /> : <XCircle className=\"h-4 w-4 text-red-600\" />}\n                  <div>\n                    <span className=\"text-sm text-slate-700\">{log.bookings?.customer_name || 'Booking'}</span>\n                    {log.error_message && <p className=\"text-xs text-red-600 mt-1\">{log.error_message}</p>}\n                  </div>\n                </div>\n                <span className=\"text-xs text-slate-500\">{new Date(log.created_at).toLocaleString()}</span>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}","import { useEffect, useState } from 'react';\nimport { supabase } from '@/lib/supabase';\nimport { useAuth } from '@/contexts/AuthContext';\nimport DashboardNav from '@/components/DashboardNav';\nimport PrintifyIntegration from '@/components/PrintifyIntegration';\nimport ProfitMarginCalculator from '@/components/ProfitMarginCalculator';\nimport { PrintfulIntegration } from '@/components/PrintfulIntegration';\nimport { SocialMediaScheduler } from '@/components/SocialMediaScheduler';\nimport GoogleCalendarIntegration from '@/components/GoogleCalendarIntegration';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\n\n\n\nexport default function Integrations() {\n  const { user } = useAuth();\n  const [integrations, setIntegrations] = useState<any>({});\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadIntegrations();\n  }, [user]);\n\n  const loadIntegrations = async () => {\n    if (!user) return;\n\n    const { data: shopData } = await supabase\n      .from('shops')\n      .select('id')\n      .eq('user_id', user.id)\n      .single();\n\n    if (shopData) {\n      const { data } = await supabase\n        .from('integrations')\n        .select('*')\n        .eq('shop_id', shopData.id);\n\n      const integrationsMap = data?.reduce((acc, int) => {\n        acc[int.type] = int;\n        return acc;\n      }, {} as any) || {};\n\n      setIntegrations(integrationsMap);\n    }\n\n    setLoading(false);\n  };\n\n  const connectIntegration = async (type: string) => {\n    alert(`${type} integration will be available soon. OAuth flow will be implemented here.`);\n  };\n\n  const integrationsList = [\n    {\n      type: 'instagram',\n      name: 'Instagram',\n      description: 'Connect your Instagram business account to automate DM campaigns and track engagement.',\n      icon: 'üì∑',\n      status: integrations.instagram?.connected ? 'Connected' : 'Not Connected'\n    },\n    {\n      type: 'shopify',\n      name: 'Shopify',\n      description: 'Import products from your Shopify store and sync inventory automatically.',\n      icon: 'üõçÔ∏è',\n      status: integrations.shopify?.connected ? 'Connected' : 'Not Connected'\n    },\n    {\n      type: 'google_calendar',\n      name: 'Google Calendar',\n      description: 'Sync booking appointments to your Google Calendar automatically.',\n      icon: 'üìÖ',\n      status: integrations.google_calendar?.connected ? 'Connected' : 'Not Connected'\n    }\n  ];\n\n  return (\n    <div className=\"flex min-h-screen bg-slate-50\">\n      <DashboardNav />\n      \n      <div className=\"flex-1 p-8\">\n        <div className=\"max-w-4xl mx-auto\">\n          <h2 className=\"text-3xl font-bold text-slate-900 mb-8\">Integrations</h2>\n\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8\">\n            <p className=\"text-blue-900 text-sm\">\n              <strong>Developer Note:</strong> Integration endpoints are ready for OAuth implementation. \n              The database schema and service layer are prepared for connecting external APIs.\n            </p>\n          </div>\n\n          {loading ? (\n            <p className=\"text-slate-600\">Loading integrations...</p>\n          ) : (\n            <Tabs defaultValue=\"print\" className=\"space-y-6\">\n              <TabsList>\n                <TabsTrigger value=\"print\">Print on Demand</TabsTrigger>\n                <TabsTrigger value=\"social\">Social Media</TabsTrigger>\n                <TabsTrigger value=\"other\">Other</TabsTrigger>\n              </TabsList>\n\n              <TabsContent value=\"print\" className=\"space-y-6\">\n                <div className=\"grid md:grid-cols-2 gap-6\">\n                  <PrintifyIntegration />\n                  <PrintfulIntegration />\n                </div>\n                <ProfitMarginCalculator />\n              </TabsContent>\n\n              <TabsContent value=\"social\">\n                <SocialMediaScheduler />\n              </TabsContent>\n\n              <TabsContent value=\"other\" className=\"space-y-6\">\n                <GoogleCalendarIntegration />\n\n                {integrationsList.filter(i => i.type !== 'google_calendar').map(integration => (\n                  <div key={integration.type} className=\"bg-white rounded-lg shadow p-6\">\n                    <div className=\"flex items-start justify-between\">\n                      <div className=\"flex items-start gap-4\">\n                        <div className=\"text-4xl\">{integration.icon}</div>\n                        <div>\n                          <h3 className=\"text-xl font-semibold text-slate-900 mb-2\">{integration.name}</h3>\n                          <p className=\"text-slate-600 mb-4\">{integration.description}</p>\n                          <span className={`inline-block px-3 py-1 rounded text-sm ${\n                            integration.status === 'Connected'\n                              ? 'bg-green-100 text-green-700'\n                              : 'bg-slate-100 text-slate-600'\n                          }`}>\n                            {integration.status}\n                          </span>\n                        </div>\n                      </div>\n                      <button\n                        onClick={() => connectIntegration(integration.name)}\n                        className={`px-6 py-3 rounded-lg font-semibold transition ${\n                          integration.status === 'Connected'\n                            ? 'bg-slate-200 text-slate-700 hover:bg-slate-300'\n                            : 'bg-purple-600 text-white hover:bg-purple-700'\n                        }`}\n                      >\n                        {integration.status === 'Connected' ? 'Disconnect' : 'Connect'}\n                      </button>\n                    </div>\n                  </div>\n                ))}\n\n              </TabsContent>\n            </Tabs>\n\n          )}\n        </div>\n\n      </div>\n    </div>\n  );\n}\n"],"names":["PrintifyIntegration","shops","setShops","useState","selectedShop","setSelectedShop","loading","setLoading","connected","setConnected","toast","useToast","useEffect","loadShops","checkConnection","data","error","supabase","user","saveConnection","jsxs","Card","jsx","Package","Badge","CheckCircle","Select","SelectTrigger","SelectValue","SelectContent","shop","SelectItem","Button","RefreshCw","ProfitMarginCalculator","cost","setCost","price","setPrice","shipping","setShipping","calculateProfit","c","s","profit","margin","Calculator","Label","Input","e","TrendingUp","PrintfulIntegration","apiKey","setApiKey","profitMargin","setProfitMargin","autoFulfill","setAutoFulfill","webhookUrl","setWebhookUrl","loadSettings","baseUrl","saveSettings","Switch","Save","SocialMediaScheduler","posts","setPosts","platform","setPlatform","caption","setCaption","selectedProduct","setSelectedProduct","products","setProducts","scheduledTime","setScheduledTime","loadPosts","loadProducts","generateAICaption","product","p","schedulePost","Textarea","Sparkles","Send","post","GoogleCalendarIntegration","useAuth","integration","setIntegration","syncLogs","setSyncLogs","syncing","setSyncing","loadIntegration","loadSyncLogs","shopData","initiateOAuth","disconnect","syncAllBookings","bookings","booking","Calendar","XCircle","Fragment","log","Integrations","integrations","setIntegrations","loadIntegrations","integrationsMap","acc","int","connectIntegration","type","integrationsList","DashboardNav","Tabs","TabsList","TabsTrigger","TabsContent","i"],"mappings":"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"}
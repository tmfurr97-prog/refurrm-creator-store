{"version":3,"file":"Dunning-PtPUs3Q7.js","sources":["../../src/components/DunningMetricsCards.tsx","../../src/components/ui/chart.tsx","../../src/components/RecoveryTrendChart.tsx","../../src/components/EmailSequenceChart.tsx","../../src/components/ABTestResults.tsx","../../src/pages/Dunning.tsx"],"sourcesContent":["import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Clock, Target, Mail, DollarSign } from 'lucide-react';\n\nexport default function DunningMetricsCards() {\n  const metrics = [\n    {\n      title: 'Avg Time to Recovery',\n      value: '4.2 days',\n      icon: Clock,\n      color: 'text-blue-600',\n      bgColor: 'bg-blue-50'\n    },\n    {\n      title: 'Overall Recovery Rate',\n      value: '78.5%',\n      icon: Target,\n      color: 'text-green-600',\n      bgColor: 'bg-green-50'\n    },\n    {\n      title: 'Total Emails Sent',\n      value: '1,247',\n      icon: Mail,\n      color: 'text-purple-600',\n      bgColor: 'bg-purple-50'\n    },\n    {\n      title: 'Revenue Recovered',\n      value: '$18,420',\n      icon: DollarSign,\n      color: 'text-emerald-600',\n      bgColor: 'bg-emerald-50'\n    }\n  ];\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n      {metrics.map((metric) => (\n        <Card key={metric.title}>\n          <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n            <CardTitle className=\"text-sm font-medium text-slate-600\">\n              {metric.title}\n            </CardTitle>\n            <div className={`p-2 rounded-lg ${metric.bgColor}`}>\n              <metric.icon className={`w-5 h-5 ${metric.color}`} />\n            </div>\n          </CardHeader>\n          <CardContent>\n            <p className=\"text-3xl font-bold text-slate-900\">{metric.value}</p>\n          </CardContent>\n        </Card>\n      ))}\n    </div>\n  );\n}\n","import * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/40 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border/60 [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border/40 [&_.recharts-radial-bar-background-sector]:fill-muted/50 [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted/80 [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border/40 [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([_, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item.dataKey || item.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background/95 backdrop-blur-sm px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { ChartContainer, ChartTooltip, ChartTooltipContent } from '@/components/ui/chart';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, ResponsiveContainer } from 'recharts';\n\nconst weeklyData = [\n  { week: 'Week 1', recoveryRate: 65, recovered: 12, attempted: 18 },\n  { week: 'Week 2', recoveryRate: 72, recovered: 18, attempted: 25 },\n  { week: 'Week 3', recoveryRate: 68, recovered: 15, attempted: 22 },\n  { week: 'Week 4', recoveryRate: 78, recovered: 21, attempted: 27 },\n  { week: 'Week 5', recoveryRate: 75, recovered: 24, attempted: 32 },\n  { week: 'Week 6', recoveryRate: 82, recovered: 28, attempted: 34 },\n  { week: 'Week 7', recoveryRate: 80, recovered: 32, attempted: 40 },\n  { week: 'Week 8', recoveryRate: 85, recovered: 34, attempted: 40 },\n];\n\nexport default function RecoveryTrendChart() {\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>Recovery Rate Trends</CardTitle>\n        <CardDescription>Weekly recovery performance over the last 8 weeks</CardDescription>\n      </CardHeader>\n      <CardContent>\n        <ChartContainer config={{ recoveryRate: { label: 'Recovery Rate', color: 'hsl(142, 76%, 36%)' } }} className=\"h-[300px]\">\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <LineChart data={weeklyData}>\n              <CartesianGrid strokeDasharray=\"3 3\" />\n              <XAxis dataKey=\"week\" />\n              <YAxis />\n              <ChartTooltip content={<ChartTooltipContent />} />\n              <Line type=\"monotone\" dataKey=\"recoveryRate\" stroke=\"hsl(142, 76%, 36%)\" strokeWidth={2} />\n            </LineChart>\n          </ResponsiveContainer>\n        </ChartContainer>\n      </CardContent>\n    </Card>\n  );\n}\n","import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { ChartContainer, ChartTooltip, ChartTooltipContent } from '@/components/ui/chart';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, ResponsiveContainer } from 'recharts';\n\nconst emailData = [\n  { sequence: 'Day 1 Reminder', sent: 120, recovered: 45, rate: 37.5 },\n  { sequence: 'Day 3 Urgent', sent: 75, recovered: 28, rate: 37.3 },\n  { sequence: 'Day 7 Final', sent: 47, recovered: 22, rate: 46.8 },\n  { sequence: 'Day 10 Offer', sent: 25, recovered: 15, rate: 60.0 },\n  { sequence: 'Day 14 Last', sent: 10, recovered: 3, rate: 30.0 },\n];\n\nexport default function EmailSequenceChart() {\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>Email Sequence Performance</CardTitle>\n        <CardDescription>Recovery rates by email sequence timing</CardDescription>\n      </CardHeader>\n      <CardContent>\n        <ChartContainer config={{ rate: { label: 'Recovery Rate', color: 'hsl(221, 83%, 53%)' } }} className=\"h-[300px]\">\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <BarChart data={emailData}>\n              <CartesianGrid strokeDasharray=\"3 3\" />\n              <XAxis dataKey=\"sequence\" />\n              <YAxis />\n              <ChartTooltip content={<ChartTooltipContent />} />\n              <Bar dataKey=\"rate\" fill=\"hsl(221, 83%, 53%)\" />\n            </BarChart>\n          </ResponsiveContainer>\n        </ChartContainer>\n      </CardContent>\n    </Card>\n  );\n}\n","import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { TrendingUp, TrendingDown } from 'lucide-react';\n\nconst abTests = [\n  {\n    id: 1,\n    name: 'Subject Line: Urgent vs Friendly',\n    variantA: { name: 'Urgent Tone', rate: 68, sent: 150 },\n    variantB: { name: 'Friendly Tone', rate: 75, sent: 150 },\n    winner: 'B',\n    improvement: 10.3\n  },\n  {\n    id: 2,\n    name: 'Discount Offer: 20% vs 30%',\n    variantA: { name: '20% Discount', rate: 55, sent: 120 },\n    variantB: { name: '30% Discount', rate: 62, sent: 120 },\n    winner: 'B',\n    improvement: 12.7\n  },\n  {\n    id: 3,\n    name: 'Email Timing: Morning vs Evening',\n    variantA: { name: 'Morning (9AM)', rate: 72, sent: 180 },\n    variantB: { name: 'Evening (6PM)', rate: 68, sent: 180 },\n    winner: 'A',\n    improvement: 5.9\n  }\n];\n\nexport default function ABTestResults() {\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>A/B Test Results</CardTitle>\n        <CardDescription>Dunning strategy experiments and outcomes</CardDescription>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        {abTests.map((test) => (\n          <div key={test.id} className=\"border rounded-lg p-4\">\n            <h4 className=\"font-semibold text-slate-900 mb-3\">{test.name}</h4>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className={`p-3 rounded ${test.winner === 'A' ? 'bg-green-50 border border-green-200' : 'bg-slate-50'}`}>\n                <div className=\"flex items-center justify-between mb-1\">\n                  <span className=\"text-sm font-medium\">Variant A</span>\n                  {test.winner === 'A' && <Badge className=\"bg-green-600\">Winner</Badge>}\n                </div>\n                <p className=\"text-xs text-slate-600 mb-2\">{test.variantA.name}</p>\n                <p className=\"text-2xl font-bold\">{test.variantA.rate}%</p>\n              </div>\n              <div className={`p-3 rounded ${test.winner === 'B' ? 'bg-green-50 border border-green-200' : 'bg-slate-50'}`}>\n                <div className=\"flex items-center justify-between mb-1\">\n                  <span className=\"text-sm font-medium\">Variant B</span>\n                  {test.winner === 'B' && <Badge className=\"bg-green-600\">Winner</Badge>}\n                </div>\n                <p className=\"text-xs text-slate-600 mb-2\">{test.variantB.name}</p>\n                <p className=\"text-2xl font-bold\">{test.variantB.rate}%</p>\n              </div>\n            </div>\n            <div className=\"mt-3 flex items-center text-sm text-green-600\">\n              <TrendingUp className=\"w-4 h-4 mr-1\" />\n              <span>{test.improvement}% improvement</span>\n            </div>\n          </div>\n        ))}\n      </CardContent>\n    </Card>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport { supabase } from '@/lib/supabase';\nimport DashboardNav from '@/components/DashboardNav';\nimport DunningMetricsCards from '@/components/DunningMetricsCards';\nimport RecoveryTrendChart from '@/components/RecoveryTrendChart';\nimport EmailSequenceChart from '@/components/EmailSequenceChart';\nimport ABTestResults from '@/components/ABTestResults';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { AlertTriangle, TrendingUp, Users, DollarSign } from 'lucide-react';\n\ninterface DunningStats {\n  atRisk: number;\n  recovered: number;\n  lost: number;\n  recoveryRate: number;\n  totalAtRisk: number;\n}\n\nexport default function Dunning() {\n  const [stats, setStats] = useState<DunningStats>({\n    atRisk: 0,\n    recovered: 0,\n    lost: 0,\n    recoveryRate: 0,\n    totalAtRisk: 0\n  });\n  const [atRiskSubs, setAtRiskSubs] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadDunningData();\n  }, []);\n\n  const loadDunningData = async () => {\n    try {\n      // Get at-risk subscriptions (past_due)\n      const { data: pastDue } = await supabase\n        .from('profiles')\n        .select('*')\n        .eq('subscription_status', 'past_due');\n\n      // Calculate stats (mock data for demo)\n      const atRiskCount = pastDue?.length || 0;\n      const recovered = 12;\n      const lost = 3;\n      const total = atRiskCount + recovered + lost;\n      const recoveryRate = total > 0 ? (recovered / total) * 100 : 0;\n\n      setStats({\n        atRisk: atRiskCount,\n        recovered,\n        lost,\n        recoveryRate,\n        totalAtRisk: atRiskCount * 29\n      });\n\n      setAtRiskSubs(pastDue || []);\n    } catch (error) {\n      console.error('Error loading dunning data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex min-h-screen bg-slate-50\">\n      <DashboardNav />\n      \n      <div className=\"flex-1 p-8\">\n        <div className=\"max-w-7xl mx-auto\">\n          <h2 className=\"text-3xl font-bold text-slate-900 mb-8\">Dunning Management</h2>\n\n          <Tabs defaultValue=\"overview\" className=\"space-y-6\">\n            <TabsList>\n              <TabsTrigger value=\"overview\">Overview</TabsTrigger>\n              <TabsTrigger value=\"analytics\">Analytics</TabsTrigger>\n              <TabsTrigger value=\"at-risk\">At-Risk Subscriptions</TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"overview\" className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n                <div className=\"bg-white rounded-lg shadow p-6\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <AlertTriangle className=\"w-8 h-8 text-red-600\" />\n                  </div>\n                  <p className=\"text-3xl font-bold text-slate-900\">{stats.atRisk}</p>\n                  <p className=\"text-slate-600\">At Risk</p>\n                </div>\n\n                <div className=\"bg-white rounded-lg shadow p-6\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <TrendingUp className=\"w-8 h-8 text-green-600\" />\n                  </div>\n                  <p className=\"text-3xl font-bold text-slate-900\">{stats.recoveryRate.toFixed(1)}%</p>\n                  <p className=\"text-slate-600\">Recovery Rate</p>\n                </div>\n\n                <div className=\"bg-white rounded-lg shadow p-6\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <Users className=\"w-8 h-8 text-blue-600\" />\n                  </div>\n                  <p className=\"text-3xl font-bold text-slate-900\">{stats.recovered}</p>\n                  <p className=\"text-slate-600\">Recovered</p>\n                </div>\n\n                <div className=\"bg-white rounded-lg shadow p-6\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <DollarSign className=\"w-8 h-8 text-purple-600\" />\n                  </div>\n                  <p className=\"text-3xl font-bold text-slate-900\">${stats.totalAtRisk}</p>\n                  <p className=\"text-slate-600\">At Risk MRR</p>\n                </div>\n              </div>\n            </TabsContent>\n\n            <TabsContent value=\"analytics\" className=\"space-y-6\">\n              <DunningMetricsCards />\n              \n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                <RecoveryTrendChart />\n                <EmailSequenceChart />\n              </div>\n\n              <ABTestResults />\n            </TabsContent>\n\n            <TabsContent value=\"at-risk\">\n              <div className=\"bg-white rounded-lg shadow\">\n                <div className=\"p-6 border-b\">\n                  <h3 className=\"text-xl font-semibold text-slate-900\">At-Risk Subscriptions</h3>\n                </div>\n                <div className=\"overflow-x-auto\">\n                  <table className=\"w-full\">\n                    <thead className=\"bg-slate-50\">\n                      <tr>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase\">Customer</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase\">Status</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase\">Attempts</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase\">Grace Period</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase\">Amount</th>\n                      </tr>\n                    </thead>\n                    <tbody className=\"divide-y divide-slate-200\">\n                      {atRiskSubs.map((sub) => (\n                        <tr key={sub.id}>\n                          <td className=\"px-6 py-4 text-sm text-slate-900\">{sub.email}</td>\n                          <td className=\"px-6 py-4\">\n                            <span className=\"px-2 py-1 text-xs font-semibold rounded bg-red-100 text-red-700\">\n                              Past Due\n                            </span>\n                          </td>\n                          <td className=\"px-6 py-4 text-sm text-slate-900\">{sub.payment_attempts || 1}/3</td>\n                          <td className=\"px-6 py-4 text-sm text-slate-900\">\n                            {sub.grace_period_end ? new Date(sub.grace_period_end).toLocaleDateString() : 'N/A'}\n                          </td>\n                          <td className=\"px-6 py-4 text-sm text-slate-900\">$29.00</td>\n                        </tr>\n                      ))}\n                      {atRiskSubs.length === 0 && (\n                        <tr>\n                          <td colSpan={5} className=\"px-6 py-8 text-center text-slate-500\">\n                            No at-risk subscriptions\n                          </td>\n                        </tr>\n                      )}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </TabsContent>\n          </Tabs>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n"],"names":["DunningMetricsCards","metrics","Clock","Target","Mail","DollarSign","jsx","metric","jsxs","Card","CardHeader","CardTitle","CardContent","THEMES","ChartContext","React.createContext","useChart","context","React.useContext","ChartContainer","React.forwardRef","id","className","children","config","props","ref","uniqueId","React.useId","chartId","cn","ChartStyle","RechartsPrimitive.ResponsiveContainer","colorConfig","_","theme","prefix","key","itemConfig","color","ChartTooltip","RechartsPrimitive.Tooltip","ChartTooltipContent","active","payload","indicator","hideLabel","hideIndicator","label","labelFormatter","labelClassName","formatter","nameKey","labelKey","tooltipLabel","React.useMemo","item","getPayloadConfigFromPayload","value","nestLabel","index","indicatorColor","Fragment","ChartLegendContent","hideIcon","verticalAlign","payloadPayload","configLabelKey","weeklyData","RecoveryTrendChart","CardDescription","ResponsiveContainer","LineChart","CartesianGrid","XAxis","YAxis","Line","emailData","EmailSequenceChart","BarChart","Bar","abTests","ABTestResults","test","Badge","TrendingUp","Dunning","stats","setStats","useState","atRiskSubs","setAtRiskSubs","loading","setLoading","useEffect","loadDunningData","pastDue","supabase","atRiskCount","recovered","lost","total","recoveryRate","error","DashboardNav","Tabs","TabsList","TabsTrigger","TabsContent","AlertTriangle","Users","sub"],"mappings":"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"}
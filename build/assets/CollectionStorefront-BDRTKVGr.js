import{bS as f,r as a,j as t,p as h,b6 as g}from"./react-vendor-zXfd7Ve7.js";import{s as l}from"./index-k1V3dZSG.js";import{P as j}from"./ProductCard-DXe2KJQy.js";import"./vendor-BOHFvtXa.js";import"./ui-vendor-BrpyYz2q.js";import"./supabase-CH0YqYdn.js";import"./badge-wcb6nnAT.js";function y(){const{slug:o}=f(),[s,n]=a.useState(null),[i,d]=a.useState([]),[m,x]=a.useState(!0);a.useEffect(()=>{p()},[o]);const p=async()=>{const{data:e}=await l.from("collections").select("*").eq("slug",o).single();if(e){n(e);const{data:u}=await l.from("collection_products").select("product_id").eq("collection_id",e.id),r=u?.map(c=>c.product_id)||[];if(r.length>0){const{data:c}=await l.from("products").select("*").in("id",r);d(c||[])}}x(!1)};return m?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):s?t.jsx("div",{className:"min-h-screen bg-slate-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 mb-6",children:[t.jsx(h,{to:"/storefront",className:"hover:text-pale skin-600",children:"Home"}),t.jsx(g,{className:"w-4 h-4"}),t.jsx("span",{className:"text-slate-900",children:s.name})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:s.name}),t.jsx("p",{className:"text-lg text-slate-600",children:s.description}),t.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:[i.length," products"]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:i.map(e=>t.jsx(j,{product:e},e.id))})]})}):t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Collection not found"})}export{y as default};
//# sourceMappingURL=CollectionStorefront-BDRTKVGr.js.map

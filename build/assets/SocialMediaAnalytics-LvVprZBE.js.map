{"version":3,"file":"SocialMediaAnalytics-LvVprZBE.js","sources":["../../src/pages/SocialMediaAnalytics.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { supabase } from '@/lib/supabase';\nimport DashboardNav from '@/components/DashboardNav';\nimport { Card, CardHeader, CardContent, CardTitle } from '@/components/ui/card';\nimport { BarChart, Bar, LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport { TrendingUp, Users, Heart, Share2 } from 'lucide-react';\n\nexport default function SocialMediaAnalytics() {\n  const [posts, setPosts] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadAnalytics();\n  }, []);\n\n  const loadAnalytics = async () => {\n    const { data } = await supabase\n      .from('social_media_posts')\n      .select('*')\n      .order('scheduled_at', { ascending: false });\n\n    setPosts(data || []);\n    setLoading(false);\n  };\n\n  const platformData = posts.reduce((acc, post) => {\n    const platform = post.platform;\n    if (!acc[platform]) {\n      acc[platform] = { platform, likes: 0, comments: 0, shares: 0, reach: 0 };\n    }\n    acc[platform].likes += post.likes || 0;\n    acc[platform].comments += post.comments || 0;\n    acc[platform].shares += post.shares || 0;\n    acc[platform].reach += post.reach || 0;\n    return acc;\n  }, {} as any);\n\n  const chartData = Object.values(platformData);\n\n  const totalEngagement = posts.reduce((sum, p) => sum + (p.likes || 0) + (p.comments || 0) + (p.shares || 0), 0);\n  const totalReach = posts.reduce((sum, p) => sum + (p.reach || 0), 0);\n\n  return (\n    <div className=\"flex min-h-screen bg-slate-50\">\n      <DashboardNav />\n      \n      <div className=\"flex-1 p-8\">\n        <div className=\"max-w-7xl mx-auto\">\n          <CardTitle className=\"text-3xl mb-8\">Social Media Analytics</CardTitle>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n            <Card>\n              <CardHeader>\n                <div className=\"flex items-center gap-3\">\n                  <TrendingUp className=\"w-8 h-8 text-blue-600\" />\n                  <div>\n                    <p className=\"text-sm text-slate-600\">Total Posts</p>\n                    <p className=\"text-2xl font-bold\">{posts.length}</p>\n                  </div>\n                </div>\n              </CardHeader>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <div className=\"flex items-center gap-3\">\n                  <Heart className=\"w-8 h-8 text-red-600\" />\n                  <div>\n                    <p className=\"text-sm text-slate-600\">Engagement</p>\n                    <p className=\"text-2xl font-bold\">{totalEngagement.toLocaleString()}</p>\n                  </div>\n                </div>\n              </CardHeader>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <div className=\"flex items-center gap-3\">\n                  <Users className=\"w-8 h-8 text-green-600\" />\n                  <div>\n                    <p className=\"text-sm text-slate-600\">Total Reach</p>\n                    <p className=\"text-2xl font-bold\">{totalReach.toLocaleString()}</p>\n                  </div>\n                </div>\n              </CardHeader>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <div className=\"flex items-center gap-3\">\n                  <Share2 className=\"w-8 h-8 text-purple-600\" />\n                  <div>\n                    <p className=\"text-sm text-slate-600\">Avg Engagement</p>\n                    <p className=\"text-2xl font-bold\">\n                      {posts.length > 0 ? Math.round(totalEngagement / posts.length) : 0}\n                    </p>\n                  </div>\n                </div>\n              </CardHeader>\n            </Card>\n          </div>\n\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Engagement by Platform</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <ResponsiveContainer width=\"100%\" height={300}>\n                  <BarChart data={chartData}>\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis dataKey=\"platform\" />\n                    <YAxis />\n                    <Tooltip />\n                    <Legend />\n                    <Bar dataKey=\"likes\" fill=\"#3b82f6\" />\n                    <Bar dataKey=\"comments\" fill=\"#10b981\" />\n                    <Bar dataKey=\"shares\" fill=\"#f59e0b\" />\n                  </BarChart>\n                </ResponsiveContainer>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle>Reach by Platform</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <ResponsiveContainer width=\"100%\" height={300}>\n                  <LineChart data={chartData}>\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis dataKey=\"platform\" />\n                    <YAxis />\n                    <Tooltip />\n                    <Legend />\n                    <Line type=\"monotone\" dataKey=\"reach\" stroke=\"#8b5cf6\" strokeWidth={2} />\n                  </LineChart>\n                </ResponsiveContainer>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["SocialMediaAnalytics","posts","setPosts","useState","loading","setLoading","useEffect","loadAnalytics","data","supabase","platformData","acc","post","platform","chartData","totalEngagement","sum","p","totalReach","jsxs","jsx","DashboardNav","CardTitle","Card","CardHeader","TrendingUp","Heart","Users","Share2","CardContent","ResponsiveContainer","BarChart","CartesianGrid","XAxis","YAxis","Tooltip","Legend","Bar","LineChart","Line"],"mappings":"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"}
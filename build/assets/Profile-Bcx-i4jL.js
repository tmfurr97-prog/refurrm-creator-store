import{r as t,j as e,aE as m,ab as o,L as x,$ as h}from"./react-vendor-zXfd7Ve7.js";import{h as C,s as j,C as r,c as l,a as u,b as p,d as f}from"./index-k1V3dZSG.js";import{D as S}from"./DashboardNav-dXlKSIlC.js";import{B as N}from"./badge-wcb6nnAT.js";import{T as D,a as T,b as g,c as b}from"./tabs-DyFoJc2q.js";import"./vendor-BOHFvtXa.js";import"./ui-vendor-BrpyYz2q.js";import"./supabase-CH0YqYdn.js";function k(){const{user:a}=C(),[i,w]=t.useState([]),[c,_]=t.useState([]),[d,v]=t.useState(!0);t.useEffect(()=>{a&&y()},[a]);const y=async()=>{try{const[s,n]=await Promise.all([j.from("artist_campaigns").select("*").eq("user_id",a?.id).order("created_at",{ascending:!1}),j.from("generated_stores").select("*").eq("user_id",a?.id).order("created_at",{ascending:!1})]);s.data&&w(s.data),n.data&&_(n.data)}catch(s){console.error("Error loading user data:",s)}finally{v(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[e.jsx(S,{}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"My Profile"}),e.jsx("p",{className:"text-purple-200",children:a?.email})]}),e.jsxs(D,{defaultValue:"campaigns",className:"w-full",children:[e.jsxs(T,{className:"grid w-full grid-cols-2 max-w-md",children:[e.jsxs(g,{value:"campaigns",children:[e.jsx(m,{className:"mr-2 h-4 w-4"}),"Campaigns (",i.length,")"]}),e.jsxs(g,{value:"stores",children:[e.jsx(o,{className:"mr-2 h-4 w-4"}),"Stores (",c.length,")"]})]}),e.jsx(b,{value:"campaigns",className:"mt-6",children:d?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(x,{className:"h-8 w-8 animate-spin text-white"})}):i.length===0?e.jsx(r,{children:e.jsxs(l,{className:"py-12 text-center",children:[e.jsx(m,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No campaigns generated yet"})]})}):e.jsx("div",{className:"grid gap-6",children:i.map(s=>e.jsxs(r,{children:[e.jsx(u,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(p,{children:s.product_title||"Untitled Campaign"}),e.jsxs(f,{className:"flex items-center mt-2",children:[e.jsx(h,{className:"mr-2 h-4 w-4"}),new Date(s.created_at).toLocaleDateString()]})]}),e.jsx(N,{children:"Campaign"})]})}),e.jsxs(l,{className:"space-y-4",children:[s.image_url&&e.jsx("img",{src:s.image_url,alt:"Artwork",className:"w-full max-w-xs rounded-lg"}),s.product_description&&e.jsx("p",{className:"text-sm",children:s.product_description}),s.product_price&&e.jsx("p",{className:"text-blue-600 font-semibold",children:s.product_price})]})]},s.id))})}),e.jsx(b,{value:"stores",className:"mt-6",children:d?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(x,{className:"h-8 w-8 animate-spin text-white"})}):c.length===0?e.jsx(r,{children:e.jsxs(l,{className:"py-12 text-center",children:[e.jsx(o,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No stores generated yet"})]})}):e.jsx("div",{className:"grid gap-6",children:c.map(s=>e.jsxs(r,{children:[e.jsx(u,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(p,{children:s.landing_headline||"Untitled Store"}),e.jsxs(f,{className:"flex items-center mt-2",children:[e.jsx(h,{className:"mr-2 h-4 w-4"}),new Date(s.created_at).toLocaleDateString()]})]}),e.jsx(N,{variant:"secondary",children:"Store"})]})}),e.jsxs(l,{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-muted-foreground italic",children:s.idea_description}),s.landing_subheadline&&e.jsx("p",{className:"text-sm font-medium",children:s.landing_subheadline}),s.sales_price&&e.jsx("p",{className:"text-blue-600 font-semibold",children:s.sales_price})]})]},s.id))})})]})]})]})}export{k as default};
//# sourceMappingURL=Profile-Bcx-i4jL.js.map

import{r as i,j as e}from"./react-vendor-zXfd7Ve7.js";import{h as j,s as m}from"./index-k1V3dZSG.js";import{D as v}from"./DashboardNav-dXlKSIlC.js";import"./vendor-BOHFvtXa.js";import"./ui-vendor-BrpyYz2q.js";import"./supabase-CH0YqYdn.js";function C(){const{user:l,testMode:u,setTestMode:b}=j(),[x,d]=i.useState(!1),[p,n]=i.useState(""),[a,c]=i.useState({full_name:"",brand_name:"",username:"",timezone:"UTC"}),[t,o]=i.useState({headline:"",subheadline:"",bio:"",primary_color:"#6366f1",theme:"light",instagram_url:"",tiktok_url:"",youtube_url:""});i.useEffect(()=>{h()},[l]);const h=async()=>{if(!l)return;const{data:s}=await m.from("profiles").select("*").eq("id",l.id).single();s&&c({full_name:s.full_name||"",brand_name:s.brand_name||"",username:s.username||"",timezone:s.timezone||"UTC"});const{data:r}=await m.from("shops").select("*").eq("user_id",l.id).single();r&&o({headline:r.headline||"",subheadline:r.subheadline||"",bio:r.bio||"",primary_color:r.primary_color||"#6366f1",theme:r.theme||"light",instagram_url:r.instagram_url||"",tiktok_url:r.tiktok_url||"",youtube_url:r.youtube_url||""})},g=async s=>{s.preventDefault(),d(!0),n(""),await m.from("profiles").update(a).eq("id",l?.id),n("Profile updated successfully!"),d(!1)},f=async s=>{s.preventDefault(),d(!0),n(""),await m.from("shops").update(t).eq("user_id",l?.id),n("Shop settings updated successfully!"),d(!1)};return e.jsxs("div",{className:"flex min-h-screen bg-slate-50",children:[e.jsx(v,{}),e.jsx("div",{className:"flex-1 p-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-8",children:"Settings"}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-lg shadow p-6 mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-green-900 mb-3 flex items-center gap-2",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})}),"Your Database Access"]}),e.jsx("p",{className:"text-green-800 text-sm mb-4",children:"All your data is stored in Supabase. Access your database directly to manage products, users, orders, and more."}),e.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Supabase Project URL"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:"https://msaadrpyttiiejglqbbj.supabase.co",readOnly:!0,className:"flex-1 px-3 py-2 bg-slate-50 border border-slate-300 rounded text-sm font-mono"}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText("https://msaadrpyttiiejglqbbj.supabase.co"),n("URL copied to clipboard!")},className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm font-semibold",children:"Copy"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Access Your Database"}),e.jsxs("a",{href:"https://supabase.com/dashboard/project/msaadrpyttiiejglqbbj",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-semibold text-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Open Supabase Dashboard"]})]})]}),e.jsxs("div",{className:"bg-green-100 border border-green-300 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-green-900 mb-2 text-sm",children:"Database Tables You Can Edit:"}),e.jsxs("ul",{className:"text-xs text-green-800 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"• profiles"})," - User profiles and account settings"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"• products"})," - Your product catalog"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"• orders"})," - Customer orders and transactions"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"• subscriptions"})," - Subscription plans and billing"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"• affiliates"})," - Affiliate program data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"• shops"})," - Storefront customization"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"• support_tickets"})," - Customer support messages"]})]}),e.jsxs("p",{className:"text-xs text-green-700 mt-3",children:[e.jsx("strong",{children:"Tip:"}),' Go to "Table Editor" in Supabase to add, edit, or delete records directly.']})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 border-2 border-amber-200 rounded-lg shadow p-6 mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-amber-900 mb-3 flex items-center gap-2",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),"How to Set Up VIP Accounts"]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-3 text-sm text-amber-900",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Option 1: Use Test Mode (Recommended for Testing)"}),e.jsx("p",{className:"text-xs text-amber-800",children:'Enable "Test Premium Mode" toggle above to instantly access all VIP features without setting up subscriptions.'})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Option 2: Create Real Subscription in Supabase"}),e.jsxs("ol",{className:"text-xs text-amber-800 space-y-1 ml-4 list-decimal",children:[e.jsx("li",{children:"Open your Supabase Dashboard (link above)"}),e.jsx("li",{children:'Go to "Table Editor" → "subscriptions" table'}),e.jsx("li",{children:'Click "Insert" → "Insert row"'}),e.jsx("li",{children:"Fill in: user_id (your user ID), plan_id, status='active', current_period_end (future date)"}),e.jsx("li",{children:"Save - you now have VIP access!"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Option 3: Use the VIP Manager Page"}),e.jsx("p",{className:"text-xs text-amber-800",children:"Navigate to /vip-manager to grant VIP status to users through the admin interface."})]})]})]}),p&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-6",children:p}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border-2 border-purple-200 rounded-lg shadow p-6 mb-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-xl font-semibold text-purple-900 mb-2 flex items-center gap-2",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Test Premium Mode"]}),e.jsx("p",{className:"text-purple-700 text-sm mb-4",children:"Enable test mode to access all premium features without a subscription. Perfect for testing and development."}),e.jsxs("div",{className:"bg-white/50 rounded-lg p-3 text-xs text-purple-800 mb-4",children:[e.jsx("strong",{children:"When enabled:"})," All premium content and features will be accessible, subscription checks will be bypassed."]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer ml-4",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:s=>{b(s.target.checked),n(s.target.checked?"Test mode enabled! All premium features unlocked.":"Test mode disabled.")},className:"sr-only peer"}),e.jsx("div",{className:"w-14 h-7 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-purple-600"})]})]}),u&&e.jsxs("div",{className:"mt-4 bg-purple-100 border border-purple-300 rounded-lg p-3 text-sm text-purple-900",children:[e.jsx("strong",{children:"Test Mode Active:"})," You now have full access to all premium features!"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Profile"}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:a.full_name,onChange:s=>c({...a,full_name:s.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Brand Name"}),e.jsx("input",{type:"text",value:a.brand_name,onChange:s=>c({...a,brand_name:s.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Username"}),e.jsx("input",{type:"text",value:a.username,onChange:s=>c({...a,username:s.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg"}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Your store URL: refurrm.shop/",a.username]})]}),e.jsx("button",{type:"submit",disabled:x,className:"px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition",children:"Save Profile"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Shop Settings"}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Headline"}),e.jsx("input",{type:"text",value:t.headline,onChange:s=>o({...t,headline:s.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Subheadline"}),e.jsx("input",{type:"text",value:t.subheadline,onChange:s=>o({...t,subheadline:s.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Bio"}),e.jsx("textarea",{value:t.bio,onChange:s=>o({...t,bio:s.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg h-24"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Instagram URL"}),e.jsx("input",{type:"url",value:t.instagram_url,onChange:s=>o({...t,instagram_url:s.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"TikTok URL"}),e.jsx("input",{type:"url",value:t.tiktok_url,onChange:s=>o({...t,tiktok_url:s.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg"})]})]}),e.jsx("button",{type:"submit",disabled:x,className:"px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition",children:"Save Shop Settings"})]})]})]})})]})}export{C as default};
//# sourceMappingURL=Settings-UZSSlJbO.js.map

import{r as v,j as e,o as T,L as z,k as U,m as B,n as G,q as O,t as E,a0 as H,U as R,O as K}from"./react-vendor-zXfd7Ve7.js";import{u as M,L as r,T as V,I as o,B as n,s as W,A as Y,e as J,C as u,a as m,b as p,d as j,c as g}from"./index-k1V3dZSG.js";import{S as C,a as w,b as S,c as P,d as t}from"./select-C3Vw_1bu.js";import{S as q}from"./switch-IuCVSr7H.js";import{T as Q,a as Z,b as F}from"./tabs-DyFoJc2q.js";import{D as X}from"./DashboardNav-dXlKSIlC.js";import{D as _,a as ee,b as se,c as ie,d as re}from"./dialog-bS3FpGD2.js";import{u as ae}from"./useSubscription--HzpgKEz.js";import"./vendor-BOHFvtXa.js";import"./ui-vendor-BrpyYz2q.js";import"./supabase-CH0YqYdn.js";function le({open:b,onClose:N,onApply:I}){const[k,x]=v.useState(!1),[d,f]=v.useState(null),[c,i]=v.useState({idea:"",productType:"digital",creatorNiche:"",priceRange:"mid"}),[a,D]=v.useState(null),{toast:y}=M(),s=(l,h)=>{navigator.clipboard.writeText(l),D(h),y({title:"Copied to clipboard!"}),setTimeout(()=>D(null),2e3)},$=async()=>{if(!c.idea){y({title:"Please describe your product idea",variant:"destructive"});return}x(!0);try{const{data:l,error:h}=await W.functions.invoke("ai-product-copy",{body:c});if(h)throw h;f(l),y({title:"AI generated your product copy!",description:"Review and customize as needed"})}catch{y({title:"Generation failed",description:"Please try again",variant:"destructive"})}finally{x(!1)}},L=()=>{d&&(I({name:d.nameOptions[0],description:d.longDescription,price:d.suggestedPrice}),N(),f(null))},A=()=>{f(null),i({idea:"",productType:"digital",creatorNiche:"",priceRange:"mid"})};return e.jsx(_,{open:b,onOpenChange:N,children:e.jsxs(ee,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(se,{children:[e.jsxs(ie,{className:"flex items-center gap-2",children:[e.jsx(T,{className:"w-5 h-5 text-pale skin-600"}),"AI Product Copy Generator"]}),e.jsx(re,{children:"Describe your product idea and AI will generate compelling copy"})]}),d?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex gap-2",children:e.jsxs(n,{onClick:A,variant:"outline",size:"sm",children:[e.jsx(U,{className:"h-4 w-4 mr-2"})," Generate New"]})}),e.jsxs("div",{children:[e.jsx(r,{className:"text-base font-semibold",children:"Name Options"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Pick your favorite or mix and match"}),e.jsx("div",{className:"space-y-2",children:d.nameOptions?.map((l,h)=>e.jsxs("div",{className:"p-3 bg-gradient-to-r from-pale skin-50 to-teal-50 rounded border flex justify-between items-center hover:shadow-md transition-shadow",children:[e.jsx("span",{className:"font-medium",children:l}),e.jsx(n,{size:"sm",variant:"ghost",onClick:()=>s(l,`name-${h}`),children:a===`name-${h}`?e.jsx(B,{className:"w-4 h-4 text-green-600"}):e.jsx(G,{className:"w-4 h-4"})})]},h))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(r,{className:"text-base font-semibold",children:"Description"}),e.jsx(n,{size:"sm",variant:"ghost",onClick:()=>s(d.longDescription,"desc"),children:a==="desc"?e.jsx(B,{className:"w-4 h-4 text-green-600"}):e.jsx(G,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"p-4 bg-gray-50 rounded border text-sm leading-relaxed",children:d.longDescription})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-base font-semibold",children:"Key Benefits"}),e.jsx("div",{className:"mt-2 space-y-2",children:d.benefits?.map((l,h)=>e.jsxs("div",{className:"flex items-start p-3 bg-green-50 rounded border-l-4 border-green-400",children:[e.jsx("span",{className:"text-green-600 mr-2 font-bold",children:"âœ“"}),e.jsx("span",{className:"text-sm",children:l})]},h))})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-pale skin-100 to-blue-100 rounded-lg",children:[e.jsx(r,{className:"text-base font-semibold",children:"Suggested Price"}),e.jsxs("p",{className:"text-3xl font-bold text-pale skin-600 mt-2",children:["$",d.suggestedPrice]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{onClick:L,className:"flex-1 bg-gradient-to-r from-pale skin-600 to-teal-600 hover:from-pale skin-700 hover:to-teal-700",children:"Apply to Product"}),e.jsx(n,{onClick:A,variant:"outline",children:"Generate New"})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"idea",children:"Product Idea"}),e.jsx(V,{id:"idea",value:c.idea,onChange:l=>i({...c,idea:l.target.value}),placeholder:"E.g., A course teaching Instagram growth strategies for coaches",className:"min-h-[100px]"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"type",children:"Product Type"}),e.jsxs(C,{value:c.productType,onValueChange:l=>i({...c,productType:l}),children:[e.jsx(w,{children:e.jsx(S,{})}),e.jsxs(P,{children:[e.jsx(t,{value:"digital",children:"Digital Product"}),e.jsx(t,{value:"course",children:"Course"}),e.jsx(t,{value:"service",children:"Service"}),e.jsx(t,{value:"template",children:"Template/Tool"})]})]})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"niche",children:"Your Niche"}),e.jsx(o,{id:"niche",value:c.creatorNiche,onChange:l=>i({...c,creatorNiche:l.target.value}),placeholder:"E.g., Fitness coaching"})]})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"price",children:"Price Range"}),e.jsxs(C,{value:c.priceRange,onValueChange:l=>i({...c,priceRange:l}),children:[e.jsx(w,{children:e.jsx(S,{})}),e.jsxs(P,{children:[e.jsx(t,{value:"low",children:"Budget ($0-$50)"}),e.jsx(t,{value:"mid",children:"Mid-range ($50-$200)"}),e.jsx(t,{value:"high",children:"Premium ($200+)"})]})]})]}),e.jsx(n,{onClick:$,disabled:k,className:"w-full bg-pale skin-600 hover:bg-pale skin-700",children:k?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Generate Copy"]})})]})]})})}function ge(){const b=O(),{toast:N}=M(),{hasActiveSubscription:I,isVip:k}=ae(),[x,d]=v.useState("digital"),[f,c]=v.useState(!1),[i,a]=v.useState({name:"",description:"",price:"",comparePrice:"",category:"digital",visibility:"public",modules:[],duration:"60",availableDays:[],maxBookingsPerDay:"3",isSubscription:!1,billingInterval:"month",sku:"",inventory:"",weight:"",length:"",width:"",height:"",requiresShipping:!0,variants:[]}),D=s=>{a({...i,name:s.name,description:s.description,price:s.price.toString()}),N({title:"AI content applied!",description:"Review and customize as needed."})},y=s=>{s.preventDefault(),N({title:"Product created!",description:"Your product is now live in your store."}),b("/products")};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(X,{}),e.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(n,{variant:"ghost",onClick:()=>b("/products"),className:"mb-4",children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Back to Products"]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Product"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Add a new product to your store"})]}),!I()&&!k()&&e.jsxs(Y,{className:"mb-6 bg-blue-50 border-blue-200",children:[e.jsx(H,{className:"h-4 w-4 text-blue-600"}),e.jsxs(J,{className:"text-blue-900",children:[e.jsx("strong",{children:"No Cost to Start!"})," Create and save products now. Subscribe when you're ready to publish and start selling.",e.jsx(n,{onClick:()=>b("/pricing"),variant:"link",className:"ml-2 p-0 h-auto text-blue-600 underline",children:"View Plans"})]})]}),e.jsxs("form",{onSubmit:y,children:[e.jsxs(u,{className:"mb-6",children:[e.jsxs(m,{children:[e.jsx(p,{children:"Product Type"}),e.jsx(j,{children:"Choose what type of product you want to create"})]}),e.jsx(g,{children:e.jsx(Q,{value:x,onValueChange:d,children:e.jsxs(Z,{className:"grid w-full grid-cols-4",children:[e.jsx(F,{value:"digital",children:"Digital Product"}),e.jsx(F,{value:"physical",children:"Physical Product"}),e.jsx(F,{value:"course",children:"Course"}),e.jsx(F,{value:"service",children:"Service/Booking"})]})})})]}),e.jsxs(u,{className:"mb-6",children:[e.jsx(m,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(p,{children:"Basic Information"}),e.jsx(j,{children:"Set up your product details"})]}),e.jsxs(n,{type:"button",variant:"outline",onClick:()=>c(!0),className:"flex items-center",children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"AI Generate"]})]})}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"name",children:"Product Name"}),e.jsx(o,{id:"name",value:i.name,onChange:s=>a({...i,name:s.target.value}),placeholder:"E.g., Instagram Growth Guide",required:!0})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"description",children:"Description"}),e.jsx(V,{id:"description",value:i.description,onChange:s=>a({...i,description:s.target.value}),placeholder:"Describe what customers will get...",className:"min-h-[120px]",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"price",children:"Price ($)"}),e.jsx(o,{id:"price",type:"number",value:i.price,onChange:s=>a({...i,price:s.target.value}),placeholder:"97",required:!0})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"comparePrice",children:"Compare at Price (optional)"}),e.jsx(o,{id:"comparePrice",type:"number",value:i.comparePrice,onChange:s=>a({...i,comparePrice:s.target.value}),placeholder:"197"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-pale skin-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"isSubscription",className:"font-semibold",children:"Recurring Subscription"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Charge customers on a recurring basis"})]}),e.jsx(q,{id:"isSubscription",checked:i.isSubscription,onCheckedChange:s=>a({...i,isSubscription:s})})]}),i.isSubscription&&e.jsxs("div",{children:[e.jsx(r,{htmlFor:"billingInterval",children:"Billing Interval"}),e.jsxs(C,{value:i.billingInterval,onValueChange:s=>a({...i,billingInterval:s}),children:[e.jsx(w,{children:e.jsx(S,{})}),e.jsxs(P,{children:[e.jsx(t,{value:"month",children:"Monthly"}),e.jsx(t,{value:"year",children:"Yearly"})]})]})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"visibility",children:"Visibility"}),e.jsxs(C,{value:i.visibility,onValueChange:s=>a({...i,visibility:s}),children:[e.jsx(w,{children:e.jsx(S,{})}),e.jsxs(P,{children:[e.jsx(t,{value:"public",children:"Public"}),e.jsx(t,{value:"hidden",children:"Hidden"}),e.jsx(t,{value:"draft",children:"Draft"})]})]})]})]})]}),x==="digital"&&e.jsxs(u,{className:"mb-6",children:[e.jsxs(m,{children:[e.jsx(p,{children:"Files"}),e.jsx(j,{children:"Upload files customers will receive"})]}),e.jsx(g,{children:e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx(R,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Drop files here or click to upload"}),e.jsx("p",{className:"text-xs text-gray-500",children:"PDF, ZIP, MP3, MP4 up to 100MB"}),e.jsx(n,{type:"button",variant:"outline",className:"mt-4",children:"Choose Files"})]})})]}),x==="course"&&e.jsxs(u,{className:"mb-6",children:[e.jsxs(m,{children:[e.jsx(p,{children:"Course Structure"}),e.jsx(j,{children:"Organize your course content"})]}),e.jsxs(g,{children:[e.jsxs(n,{type:"button",variant:"outline",className:"mb-4",children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),"Add Module"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Start by adding modules, then add lessons to each module."})]})]}),x==="service"&&e.jsxs(u,{className:"mb-6",children:[e.jsxs(m,{children:[e.jsx(p,{children:"Booking Settings"}),e.jsx(j,{children:"Configure your availability"})]}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"duration",children:"Session Duration (minutes)"}),e.jsxs(C,{value:i.duration,onValueChange:s=>a({...i,duration:s}),children:[e.jsx(w,{children:e.jsx(S,{})}),e.jsxs(P,{children:[e.jsx(t,{value:"30",children:"30 minutes"}),e.jsx(t,{value:"60",children:"60 minutes"}),e.jsx(t,{value:"90",children:"90 minutes"}),e.jsx(t,{value:"120",children:"2 hours"})]})]})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Available Days"}),e.jsx("div",{className:"grid grid-cols-7 gap-2 mt-2",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(s=>e.jsx(n,{type:"button",variant:"outline",size:"sm",className:"text-xs",children:s},s))})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"maxBookings",children:"Max Bookings Per Day"}),e.jsx(o,{id:"maxBookings",type:"number",value:i.maxBookingsPerDay,onChange:s=>a({...i,maxBookingsPerDay:s.target.value}),placeholder:"3"})]})]})]}),x==="physical"&&e.jsxs(e.Fragment,{children:[e.jsxs(u,{className:"mb-6",children:[e.jsxs(m,{children:[e.jsx(p,{children:"Product Images"}),e.jsx(j,{children:"Upload images of your physical product"})]}),e.jsx(g,{children:e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx(R,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Drop images here or click to upload"}),e.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG up to 10MB each"}),e.jsx(n,{type:"button",variant:"outline",className:"mt-4",children:"Choose Images"})]})})]}),e.jsxs(u,{className:"mb-6",children:[e.jsxs(m,{children:[e.jsx(p,{children:"Inventory & SKU"}),e.jsx(j,{children:"Manage stock and product identification"})]}),e.jsx(g,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"sku",children:"SKU (Stock Keeping Unit)"}),e.jsx(o,{id:"sku",value:i.sku,onChange:s=>a({...i,sku:s.target.value}),placeholder:"PAINT-001"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"inventory",children:"Inventory Quantity"}),e.jsx(o,{id:"inventory",type:"number",value:i.inventory,onChange:s=>a({...i,inventory:s.target.value}),placeholder:"50",required:!0})]})]})})]}),e.jsxs(u,{className:"mb-6",children:[e.jsxs(m,{children:[e.jsx(p,{children:"Shipping Details"}),e.jsx(j,{children:"Set dimensions and weight for shipping calculations"})]}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg mb-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"requiresShipping",className:"font-semibold",children:"Requires Shipping"}),e.jsx("p",{className:"text-sm text-gray-600",children:"This product needs to be shipped"})]}),e.jsx(q,{id:"requiresShipping",checked:i.requiresShipping,onCheckedChange:s=>a({...i,requiresShipping:s})})]}),i.requiresShipping&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"weight",children:"Weight (lbs)"}),e.jsx(o,{id:"weight",type:"number",step:"0.1",value:i.weight,onChange:s=>a({...i,weight:s.target.value}),placeholder:"2.5"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"length",children:"Length (in)"}),e.jsx(o,{id:"length",type:"number",step:"0.1",value:i.length,onChange:s=>a({...i,length:s.target.value}),placeholder:"12"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"width",children:"Width (in)"}),e.jsx(o,{id:"width",type:"number",step:"0.1",value:i.width,onChange:s=>a({...i,width:s.target.value}),placeholder:"8"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"height",children:"Height (in)"}),e.jsx(o,{id:"height",type:"number",step:"0.1",value:i.height,onChange:s=>a({...i,height:s.target.value}),placeholder:"4"})]})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(n,{type:"button",variant:"outline",onClick:()=>b("/products"),children:"Cancel"}),e.jsx(n,{type:"submit",className:"bg-pale skin-600 hover:bg-pale skin-700",children:"Create Product"})]})]}),e.jsx(le,{open:f,onClose:()=>c(!1),onApply:D})]})]})}export{ge as default};
//# sourceMappingURL=ProductForm-LOypjLWT.js.map

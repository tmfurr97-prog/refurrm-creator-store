{"version":3,"file":"Studio-Cnn1DLQB.js","sources":["../../src/components/studio/StudioUpload.tsx","../../src/components/studio/StudioQueue.tsx","../../src/components/studio/StudioPublished.tsx","../../src/components/studio/MockupTemplateGrid.tsx","../../src/components/studio/MockupPreview.tsx","../../src/components/studio/ReferenceImageUpload.tsx","../../src/components/studio/AIStyleAnalyzer.tsx","../../src/components/studio/StudioMockups.tsx","../../src/pages/Studio.tsx"],"sourcesContent":["import { useState, useCallback } from 'react';\nimport { Card } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Upload, FileImage, FileText, Mic, Sparkles, Loader2 } from 'lucide-react';\nimport { useToast } from '@/hooks/use-toast';\nimport { supabase } from '@/lib/supabase';\nimport { useAuth } from '@/contexts/AuthContext';\n\nexport default function StudioUpload() {\n  const { user } = useAuth();\n  const { toast } = useToast();\n  const [uploading, setUploading] = useState(false);\n  const [dragActive, setDragActive] = useState(false);\n  const [files, setFiles] = useState<File[]>([]);\n  const [idea, setIdea] = useState('');\n  const [productType, setProductType] = useState('digital');\n\n  const handleDrag = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === \"dragenter\" || e.type === \"dragover\") {\n      setDragActive(true);\n    } else if (e.type === \"dragleave\") {\n      setDragActive(false);\n    }\n  }, []);\n\n  const handleDrop = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n    \n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      setFiles(Array.from(e.dataTransfer.files));\n    }\n  }, []);\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files) {\n      setFiles(Array.from(e.target.files));\n    }\n  };\n\n  const handleSubmit = async () => {\n    if (!user) {\n      toast({ title: \"Please sign in\", variant: \"destructive\" });\n      return;\n    }\n\n    if (files.length === 0 && !idea.trim()) {\n      toast({ title: \"Upload a file or describe your idea\", variant: \"destructive\" });\n      return;\n    }\n\n    setUploading(true);\n    try {\n      const { data, error } = await supabase.functions.invoke('ai-product-finisher', {\n        body: { \n          idea: idea || 'Create a product from uploaded files',\n          productType,\n          fileCount: files.length\n        }\n      });\n\n      if (error) throw error;\n\n      toast({ \n        title: \"Processing started!\", \n        description: \"AI is turning your upload into a finished product. Check the Processing tab.\" \n      });\n\n      setFiles([]);\n      setIdea('');\n    } catch (error) {\n      toast({ title: \"Upload failed\", description: \"Please try again\", variant: \"destructive\" });\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto space-y-6\">\n      <Card className=\"p-8\">\n        <div\n          className={`border-2 border-dashed rounded-xl p-12 text-center transition-all ${\n            dragActive ? 'border-purple-500 bg-purple-50' : 'border-gray-300 bg-white'\n          }`}\n          onDragEnter={handleDrag}\n          onDragLeave={handleDrag}\n          onDragOver={handleDrag}\n          onDrop={handleDrop}\n        >\n          <Upload className=\"mx-auto h-16 w-16 text-gray-400 mb-4\" />\n          <h3 className=\"text-xl font-semibold mb-2\">Drop anything here</h3>\n          <p className=\"text-gray-600 mb-4\">\n            Art, sketches, notes, screenshots, PDFs, voice memos, rough drafts...\n          </p>\n          <p className=\"text-sm text-gray-500 mb-6\">\n            AI will clean it up, design it, write the copy, and make it ready to sell\n          </p>\n          \n          <input\n            type=\"file\"\n            id=\"file-upload\"\n            className=\"hidden\"\n            multiple\n            onChange={handleFileChange}\n            accept=\"image/*,application/pdf,.doc,.docx,.txt,.mp3,.mp4\"\n          />\n          <Button asChild variant=\"outline\" size=\"lg\">\n            <label htmlFor=\"file-upload\" className=\"cursor-pointer\">\n              Choose Files\n            </label>\n          </Button>\n\n          {files.length > 0 && (\n            <div className=\"mt-4 text-left\">\n              <p className=\"font-semibold mb-2\">{files.length} file(s) selected:</p>\n              {files.map((file, i) => (\n                <p key={i} className=\"text-sm text-gray-600\">â€¢ {file.name}</p>\n              ))}\n            </div>\n          )}\n        </div>\n      </Card>\n\n      <Card className=\"p-6\">\n        <Label className=\"text-lg font-semibold mb-3 block\">Or describe your idea</Label>\n        <Textarea\n          value={idea}\n          onChange={(e) => setIdea(e.target.value)}\n          placeholder=\"E.g., 'I have a watercolor painting of a sunset I want to sell as prints' or 'I want to create a checklist for new plant parents'\"\n          className=\"min-h-[120px] mb-4\"\n        />\n        \n        <div className=\"flex gap-4 mb-4\">\n          <Button\n            variant={productType === 'digital' ? 'default' : 'outline'}\n            onClick={() => setProductType('digital')}\n          >\n            Digital Product\n          </Button>\n          <Button\n            variant={productType === 'physical' ? 'default' : 'outline'}\n            onClick={() => setProductType('physical')}\n          >\n            Physical Product\n          </Button>\n          <Button\n            variant={productType === 'art' ? 'default' : 'outline'}\n            onClick={() => setProductType('art')}\n          >\n            Art/Prints\n          </Button>\n        </div>\n\n        <Button \n          onClick={handleSubmit} \n          disabled={uploading || (files.length === 0 && !idea.trim())}\n          className=\"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700\"\n          size=\"lg\"\n        >\n          {uploading ? (\n            <>\n              <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n              Processing...\n            </>\n          ) : (\n            <>\n              <Sparkles className=\"mr-2 h-5 w-5\" />\n              Let AI Finish This\n            </>\n          )}\n        </Button>\n      </Card>\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { Card } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Progress } from '@/components/ui/progress';\nimport { Loader2, CheckCircle, Eye, Edit } from 'lucide-react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { supabase } from '@/lib/supabase';\n\nexport default function StudioQueue() {\n  const { user } = useAuth();\n  const [queue, setQueue] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (user) {\n      loadQueue();\n    }\n  }, [user]);\n\n  const loadQueue = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('studio_queue')\n        .select('*')\n        .eq('user_id', user?.id)\n        .in('status', ['processing', 'ready'])\n        .order('created_at', { ascending: false });\n\n      if (error) throw error;\n      setQueue(data || []);\n    } catch (error) {\n      console.error('Error loading queue:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'processing': return 'bg-blue-500';\n      case 'ready': return 'bg-green-500';\n      default: return 'bg-gray-500';\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center py-12\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-purple-600\" />\n      </div>\n    );\n  }\n\n  if (queue.length === 0) {\n    return (\n      <Card className=\"p-12 text-center\">\n        <div className=\"max-w-md mx-auto\">\n          <Loader2 className=\"h-16 w-16 mx-auto text-gray-300 mb-4\" />\n          <h3 className=\"text-xl font-semibold mb-2\">Nothing processing yet</h3>\n          <p className=\"text-gray-600\">\n            Upload your first idea and watch AI turn it into a finished product\n          </p>\n        </div>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto space-y-4\">\n      {queue.map((item) => (\n        <Card key={item.id} className=\"p-6\">\n          <div className=\"flex items-start justify-between mb-4\">\n            <div className=\"flex-1\">\n              <div className=\"flex items-center gap-3 mb-2\">\n                <h3 className=\"text-lg font-semibold\">{item.product_name || 'Untitled Product'}</h3>\n                <Badge className={getStatusColor(item.status)}>\n                  {item.status === 'processing' ? 'Processing' : 'Ready to Publish'}\n                </Badge>\n              </div>\n              <p className=\"text-sm text-gray-600\">{item.idea_description}</p>\n            </div>\n            {item.status === 'ready' && (\n              <Button size=\"sm\" className=\"bg-purple-600 hover:bg-purple-700\">\n                <Eye className=\"mr-2 h-4 w-4\" />\n                Review & Publish\n              </Button>\n            )}\n          </div>\n\n          {item.status === 'processing' && (\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-gray-600\">AI is working...</span>\n                <span className=\"text-purple-600 font-medium\">{item.progress || 45}%</span>\n              </div>\n              <Progress value={item.progress || 45} className=\"h-2\" />\n              <p className=\"text-xs text-gray-500\">\n                Generating product copy, mockups, and social posts\n              </p>\n            </div>\n          )}\n\n          {item.status === 'ready' && (\n            <div className=\"mt-4 p-4 bg-green-50 rounded-lg\">\n              <div className=\"flex items-center gap-2 text-green-700\">\n                <CheckCircle className=\"h-5 w-5\" />\n                <span className=\"font-medium\">Product ready!</span>\n              </div>\n              <p className=\"text-sm text-green-600 mt-1\">\n                AI generated title, description, mockups, and 5 social media posts\n              </p>\n            </div>\n          )}\n        </Card>\n      ))}\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { Card } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { ExternalLink, Edit, TrendingUp, DollarSign } from 'lucide-react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { supabase } from '@/lib/supabase';\n\nexport default function StudioPublished() {\n  const { user } = useAuth();\n  const [products, setProducts] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (user) {\n      loadProducts();\n    }\n  }, [user]);\n\n  const loadProducts = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('products')\n        .select('*')\n        .eq('user_id', user?.id)\n        .eq('status', 'published')\n        .order('created_at', { ascending: false });\n\n      if (error) throw error;\n      setProducts(data || []);\n    } catch (error) {\n      console.error('Error loading products:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return <div className=\"text-center py-12\">Loading...</div>;\n  }\n\n  if (products.length === 0) {\n    return (\n      <Card className=\"p-12 text-center\">\n        <div className=\"max-w-md mx-auto\">\n          <TrendingUp className=\"h-16 w-16 mx-auto text-gray-300 mb-4\" />\n          <h3 className=\"text-xl font-semibold mb-2\">No published products yet</h3>\n          <p className=\"text-gray-600\">\n            Your finished products will appear here once published\n          </p>\n        </div>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"max-w-6xl mx-auto\">\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {products.map((product) => (\n          <Card key={product.id} className=\"overflow-hidden hover:shadow-lg transition-shadow\">\n            <div className=\"aspect-square bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center\">\n              {product.image_url ? (\n                <img src={product.image_url} alt={product.name} className=\"w-full h-full object-cover\" />\n              ) : (\n                <span className=\"text-4xl\">ðŸŽ¨</span>\n              )}\n            </div>\n            <div className=\"p-4\">\n              <h3 className=\"font-semibold text-lg mb-2 line-clamp-2\">{product.name}</h3>\n              <p className=\"text-sm text-gray-600 mb-3 line-clamp-2\">{product.description}</p>\n              \n              <div className=\"flex items-center justify-between mb-3\">\n                <span className=\"text-2xl font-bold text-purple-600\">${product.price}</span>\n                <Badge variant=\"outline\" className=\"text-green-600\">\n                  <DollarSign className=\"h-3 w-3 mr-1\" />\n                  {product.sales || 0} sales\n                </Badge>\n              </div>\n\n              <div className=\"flex gap-2\">\n                <Button variant=\"outline\" size=\"sm\" className=\"flex-1\">\n                  <Edit className=\"h-4 w-4 mr-1\" />\n                  Edit\n                </Button>\n                <Button size=\"sm\" className=\"flex-1 bg-purple-600 hover:bg-purple-700\">\n                  <ExternalLink className=\"h-4 w-4 mr-1\" />\n                  View\n                </Button>\n              </div>\n            </div>\n          </Card>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import { Card } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Check } from 'lucide-react';\n\ninterface Product {\n  id: string;\n  name: string;\n  price: number;\n}\n\ninterface Props {\n  products: Product[];\n  selectedProducts: string[];\n  onToggleProduct: (id: string) => void;\n}\n\nexport default function MockupTemplateGrid({ products, selectedProducts, onToggleProduct }: Props) {\n  return (\n    <Card className=\"p-6\">\n      <h2 className=\"text-2xl font-bold mb-4\">Select Products</h2>\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n        {products.map(product => {\n          const isSelected = selectedProducts.includes(product.id);\n          return (\n            <Card\n              key={product.id}\n              className={`p-4 cursor-pointer transition-all hover:shadow-lg ${\n                isSelected ? 'ring-2 ring-purple-500 bg-purple-50' : ''\n              }`}\n              onClick={() => onToggleProduct(product.id)}\n            >\n              <div className=\"aspect-square bg-gray-100 rounded-lg mb-3 flex items-center justify-center relative\">\n                {isSelected && (\n                  <div className=\"absolute top-2 right-2 bg-purple-600 text-white rounded-full p-1\">\n                    <Check className=\"w-4 h-4\" />\n                  </div>\n                )}\n                <span className=\"text-4xl\">{getProductEmoji(product.id)}</span>\n              </div>\n              <h3 className=\"font-semibold text-center\">{product.name}</h3>\n              <Badge variant=\"secondary\" className=\"w-full justify-center mt-2\">\n                ${product.price}\n              </Badge>\n            </Card>\n          );\n        })}\n      </div>\n    </Card>\n  );\n}\n\nfunction getProductEmoji(id: string) {\n  const emojis: Record<string, string> = {\n    tshirt: 'ðŸ‘•',\n    hoodie: 'ðŸ§¥',\n    mug: 'â˜•',\n    phonecase: 'ðŸ“±',\n    poster: 'ðŸ–¼ï¸',\n    totebag: 'ðŸ‘œ',\n    sticker: 'ðŸ·ï¸'\n  };\n  return emojis[id] || 'ðŸ“¦';\n}\n","import { useState } from 'react';\nimport { Card } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { ShoppingCart, Download, Loader2, Package } from 'lucide-react';\nimport { useToast } from '@/hooks/use-toast';\nimport { supabase } from '@/lib/supabase';\nimport { useAuth } from '@/contexts/AuthContext';\n\ninterface Mockup {\n  productType: string;\n  productName: string;\n  mockupUrl: string;\n  variants: string[];\n  colors: string[];\n  price: number;\n}\n\ninterface Props {\n  mockups: Mockup[];\n  onAddToStore: () => void;\n}\n\nexport default function MockupPreview({ mockups, onAddToStore }: Props) {\n  const { user } = useAuth();\n  const { toast } = useToast();\n  const [adding, setAdding] = useState(false);\n\n  const addAllToStore = async () => {\n    if (!user) return;\n    \n    setAdding(true);\n    try {\n      for (const mockup of mockups) {\n        // Create main product\n        const { data: product, error: productError } = await supabase\n          .from('products')\n          .insert({\n            user_id: user.id,\n            name: `Custom ${mockup.productName}`,\n            description: `Beautiful custom ${mockup.productName} featuring your unique artwork. Available in multiple sizes and colors.`,\n            price: mockup.price,\n            image_url: mockup.mockupUrl,\n            category: 'merchandise',\n            stock: 100,\n            is_active: true\n          })\n          .select()\n          .single();\n\n        if (productError) throw productError;\n\n        // Add variants metadata\n        const variantInfo = {\n          sizes: mockup.variants,\n          colors: mockup.colors,\n          product_id: product.id\n        };\n\n        toast({ \n          title: `${mockup.productName} added!`,\n          description: `With ${mockup.variants.length} sizes and ${mockup.colors.length} colors`\n        });\n      }\n\n      toast({ \n        title: \"All products added to store!\", \n        description: `${mockups.length} products ready to sell`,\n        duration: 5000\n      });\n      onAddToStore();\n    } catch (error) {\n      console.error('Add to store error:', error);\n      toast({ title: \"Failed to add products\", variant: \"destructive\" });\n    } finally {\n      setAdding(false);\n    }\n  };\n\n  return (\n    <Card className=\"p-6\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <div>\n          <h2 className=\"text-2xl font-bold\">Generated Mockups</h2>\n          <p className=\"text-gray-600 mt-1\">{mockups.length} products ready</p>\n        </div>\n        <Button onClick={addAllToStore} disabled={adding} size=\"lg\" className=\"bg-gradient-to-r from-purple-600 to-pink-600\">\n          {adding ? <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" /> : <ShoppingCart className=\"mr-2 h-5 w-5\" />}\n          Add All to Store\n        </Button>\n      </div>\n\n      <div className=\"grid md:grid-cols-3 gap-6\">\n        {mockups.map((mockup, idx) => (\n          <Card key={idx} className=\"p-4 hover:shadow-lg transition-shadow\">\n            <div className=\"aspect-square bg-gray-50 rounded-lg mb-3 overflow-hidden\">\n              <img \n                src={mockup.mockupUrl} \n                alt={mockup.productName}\n                className=\"w-full h-full object-cover\"\n              />\n            </div>\n            <h3 className=\"font-semibold text-lg\">{mockup.productName}</h3>\n            <div className=\"flex items-center justify-between mt-2\">\n              <Badge variant=\"secondary\" className=\"text-base font-bold\">\n                ${mockup.price}\n              </Badge>\n              <div className=\"flex items-center gap-1 text-sm text-gray-600\">\n                <Package className=\"w-4 h-4\" />\n                {mockup.variants.length} variants\n              </div>\n            </div>\n            <div className=\"mt-3 space-y-1\">\n              <p className=\"text-xs text-gray-500\">Sizes: {mockup.variants.join(', ')}</p>\n              <p className=\"text-xs text-gray-500\">Colors: {mockup.colors.join(', ')}</p>\n            </div>\n          </Card>\n        ))}\n      </div>\n    </Card>\n  );\n}\n","import { useState } from 'react';\nimport { Card } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Label } from '@/components/ui/label';\nimport { Badge } from '@/components/ui/badge';\nimport { Upload, X, Image as ImageIcon, Loader2 } from 'lucide-react';\nimport { useToast } from '@/hooks/use-toast';\nimport { supabase } from '@/lib/supabase';\nimport { useAuth } from '@/contexts/AuthContext';\n\ninterface ReferenceImageUploadProps {\n  onImagesChange: (urls: string[]) => void;\n  maxImages?: number;\n}\n\nexport default function ReferenceImageUpload({ onImagesChange, maxImages = 5 }: ReferenceImageUploadProps) {\n  const { user } = useAuth();\n  const { toast } = useToast();\n  const [uploading, setUploading] = useState(false);\n  const [images, setImages] = useState<{ url: string; preview: string }[]>([]);\n\n  const handleUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = e.target.files;\n    if (!files || !user) return;\n\n    if (images.length + files.length > maxImages) {\n      toast({ title: `Maximum ${maxImages} reference images allowed`, variant: \"destructive\" });\n      return;\n    }\n\n    setUploading(true);\n    const newImages: { url: string; preview: string }[] = [];\n\n    try {\n      for (const file of Array.from(files)) {\n        const fileExt = file.name.split('.').pop();\n        const fileName = `${user.id}/${Date.now()}-${Math.random()}.${fileExt}`;\n        \n        const { data, error } = await supabase.storage\n          .from('reference-images')\n          .upload(fileName, file);\n\n        if (error) throw error;\n\n        const { data: { publicUrl } } = supabase.storage\n          .from('reference-images')\n          .getPublicUrl(fileName);\n\n        const reader = new FileReader();\n        reader.onloadend = () => {\n          newImages.push({ url: publicUrl, preview: reader.result as string });\n          if (newImages.length === files.length) {\n            const updated = [...images, ...newImages];\n            setImages(updated);\n            onImagesChange(updated.map(img => img.url));\n          }\n        };\n        reader.readAsDataURL(file);\n      }\n\n      toast({ title: \"Reference images uploaded!\" });\n    } catch (error) {\n      toast({ title: \"Upload failed\", variant: \"destructive\" });\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const removeImage = (index: number) => {\n    const updated = images.filter((_, i) => i !== index);\n    setImages(updated);\n    onImagesChange(updated.map(img => img.url));\n  };\n\n  return (\n    <Card className=\"p-6\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <div>\n          <Label className=\"text-lg font-semibold\">Reference Images</Label>\n          <p className=\"text-sm text-gray-600\">Upload images for AI to reference (style, colors, composition)</p>\n        </div>\n        <Badge variant=\"outline\">{images.length}/{maxImages}</Badge>\n      </div>\n\n      <div className=\"grid grid-cols-2 md:grid-cols-5 gap-3 mb-4\">\n        {images.map((img, i) => (\n          <div key={i} className=\"relative group\">\n            <img src={img.preview} alt={`Reference ${i + 1}`} className=\"w-full h-24 object-cover rounded-lg\" />\n            <Button\n              size=\"icon\"\n              variant=\"destructive\"\n              className=\"absolute top-1 right-1 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity\"\n              onClick={() => removeImage(i)}\n            >\n              <X className=\"h-3 w-3\" />\n            </Button>\n          </div>\n        ))}\n      </div>\n\n      {images.length < maxImages && (\n        <>\n          <input\n            type=\"file\"\n            id=\"reference-upload\"\n            className=\"hidden\"\n            multiple\n            accept=\"image/*\"\n            onChange={handleUpload}\n          />\n          <Button asChild variant=\"outline\" className=\"w-full\" disabled={uploading}>\n            <label htmlFor=\"reference-upload\" className=\"cursor-pointer\">\n              {uploading ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <ImageIcon className=\"mr-2 h-4 w-4\" />}\n              Add Reference Images\n            </label>\n          </Button>\n        </>\n      )}\n    </Card>\n  );\n}\n","import { useState } from 'react';\nimport { Card } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Sparkles, Loader2, Eye } from 'lucide-react';\nimport { useToast } from '@/hooks/use-toast';\nimport { supabase } from '@/lib/supabase';\n\ninterface AIStyleAnalyzerProps {\n  referenceImages: string[];\n}\n\nexport default function AIStyleAnalyzer({ referenceImages }: AIStyleAnalyzerProps) {\n  const { toast } = useToast();\n  const [analyzing, setAnalyzing] = useState(false);\n  const [analysis, setAnalysis] = useState<string>('');\n  const [showAnalysis, setShowAnalysis] = useState(false);\n\n  const analyzeStyle = async () => {\n    if (referenceImages.length === 0) {\n      toast({ title: \"No reference images\", description: \"Upload images first\", variant: \"destructive\" });\n      return;\n    }\n\n    setAnalyzing(true);\n    try {\n      const { data, error } = await supabase.functions.invoke('ai-image-analyzer', {\n        body: { imageUrls: referenceImages, analysisType: 'style' }\n      });\n\n      if (error) throw error;\n\n      setAnalysis(data.analysis);\n      setShowAnalysis(true);\n      toast({ title: \"Style analyzed!\", description: \"AI has analyzed your reference images\" });\n    } catch (error) {\n      toast({ title: \"Analysis failed\", variant: \"destructive\" });\n    } finally {\n      setAnalyzing(false);\n    }\n  };\n\n  if (referenceImages.length === 0) return null;\n\n  return (\n    <Card className=\"p-6 bg-gradient-to-r from-blue-50 to-purple-50\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <div className=\"flex items-center gap-3\">\n          <Eye className=\"w-6 h-6 text-blue-600\" />\n          <div>\n            <h3 className=\"font-semibold\">AI Style Analysis</h3>\n            <p className=\"text-sm text-gray-600\">Let AI analyze your reference images</p>\n          </div>\n        </div>\n        <Badge>{referenceImages.length} images</Badge>\n      </div>\n\n      <Button \n        onClick={analyzeStyle} \n        disabled={analyzing}\n        variant=\"outline\"\n        className=\"w-full mb-4\"\n      >\n        {analyzing ? (\n          <>\n            <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n            Analyzing...\n          </>\n        ) : (\n          <>\n            <Sparkles className=\"mr-2 h-4 w-4\" />\n            Analyze Style & Colors\n          </>\n        )}\n      </Button>\n\n      {showAnalysis && analysis && (\n        <div className=\"bg-white rounded-lg p-4 border\">\n          <h4 className=\"font-semibold mb-2\">Style Analysis:</h4>\n          <p className=\"text-sm text-gray-700 whitespace-pre-wrap\">{analysis}</p>\n        </div>\n      )}\n    </Card>\n  );\n}\n","import { useState } from 'react';\nimport { Card } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Label } from '@/components/ui/label';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Badge } from '@/components/ui/badge';\nimport { Progress } from '@/components/ui/progress';\nimport { Upload, Loader2, Sparkles, Wand2 } from 'lucide-react';\nimport { useToast } from '@/hooks/use-toast';\nimport { supabase } from '@/lib/supabase';\nimport { useAuth } from '@/contexts/AuthContext';\nimport MockupTemplateGrid from './MockupTemplateGrid';\nimport MockupPreview from './MockupPreview';\nimport ReferenceImageUpload from './ReferenceImageUpload';\nimport AIStyleAnalyzer from './AIStyleAnalyzer';\n\n\nconst PRODUCT_TYPES = [\n  { id: 'tshirt', name: 'T-Shirt', price: 24.99 },\n  { id: 'hoodie', name: 'Hoodie', price: 44.99 },\n  { id: 'mug', name: 'Mug', price: 14.99 },\n  { id: 'phonecase', name: 'Phone Case', price: 19.99 },\n  { id: 'poster', name: 'Poster', price: 29.99 },\n  { id: 'totebag', name: 'Tote Bag', price: 19.99 },\n  { id: 'sticker', name: 'Sticker', price: 4.99 }\n];\n\nexport default function StudioMockups() {\n  const { user } = useAuth();\n  const { toast } = useToast();\n  const [artwork, setArtwork] = useState<File | null>(null);\n  const [artworkPreview, setArtworkPreview] = useState<string>('');\n  const [selectedProducts, setSelectedProducts] = useState<string[]>([]);\n  const [removeBackground, setRemoveBackground] = useState(true);\n  const [generating, setGenerating] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [mockups, setMockups] = useState<any[]>([]);\n  const [referenceImages, setReferenceImages] = useState<string[]>([]);\n\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      setArtwork(file);\n      const reader = new FileReader();\n      reader.onloadend = () => setArtworkPreview(reader.result as string);\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const toggleProduct = (productId: string) => {\n    setSelectedProducts(prev =>\n      prev.includes(productId) ? prev.filter(id => id !== productId) : [...prev, productId]\n    );\n  };\n\n  const generateMockups = async () => {\n    if (!user || !artwork || selectedProducts.length === 0) {\n      toast({ title: \"Please upload artwork and select products\", variant: \"destructive\" });\n      return;\n    }\n\n    setGenerating(true);\n    setProgress(0);\n    setMockups([]);\n\n    try {\n      const progressInterval = setInterval(() => {\n        setProgress(prev => Math.min(prev + 10, 90));\n      }, 500);\n\n      const { data, error } = await supabase.functions.invoke('generate-product-mockups', {\n        body: { artworkUrl: artworkPreview, productTypes: selectedProducts, removeBackground, referenceImages }\n      });\n\n\n      clearInterval(progressInterval);\n      setProgress(100);\n\n      if (error) throw error;\n\n      setMockups(data.mockups || []);\n      toast({ title: \"Mockups generated!\", description: `Created ${data.count} mockups` });\n    } catch (error) {\n      toast({ title: \"Generation failed\", variant: \"destructive\" });\n    } finally {\n      setGenerating(false);\n      setProgress(0);\n    }\n  };\n\n  return (\n    <div className=\"max-w-7xl mx-auto space-y-6\">\n      <Card className=\"p-6 bg-gradient-to-r from-purple-50 to-pink-50\">\n        <div className=\"flex items-start gap-4\">\n          <Wand2 className=\"w-8 h-8 text-purple-600\" />\n          <div>\n            <h2 className=\"text-xl font-bold mb-2\">AI Mockup Generator</h2>\n            <p className=\"text-gray-600\">Upload artwork and generate professional product mockups instantly.</p>\n          </div>\n        </div>\n      </Card>\n\n      <Card className=\"p-6\">\n        <h2 className=\"text-2xl font-bold mb-4\">1. Upload Artwork</h2>\n        <div className=\"grid md:grid-cols-2 gap-6\">\n          <input type=\"file\" id=\"artwork-upload\" className=\"hidden\" accept=\"image/*\" onChange={handleFileChange} />\n          <Button asChild variant=\"outline\" className=\"w-full h-40 border-2 border-dashed\">\n            <label htmlFor=\"artwork-upload\" className=\"cursor-pointer flex flex-col items-center justify-center\">\n              <Upload className=\"h-10 w-10 mb-3\" />\n              <span>Click to upload</span>\n            </label>\n          </Button>\n          {artworkPreview && (\n            <div className=\"border-2 rounded-lg p-4\">\n              <img src={artworkPreview} alt=\"Artwork\" className=\"w-full h-32 object-contain\" />\n              <Badge className=\"mt-2\">Ready</Badge>\n            </div>\n          )}\n        </div>\n      </Card>\n\n      <ReferenceImageUpload onImagesChange={setReferenceImages} maxImages={5} />\n\n      <AIStyleAnalyzer referenceImages={referenceImages} />\n\n\n      <div>\n        <h2 className=\"text-2xl font-bold mb-4\">2. Select Products</h2>\n        <MockupTemplateGrid products={PRODUCT_TYPES} selectedProducts={selectedProducts} onToggleProduct={toggleProduct} />\n      </div>\n\n      <Card className=\"p-6\">\n        <h2 className=\"text-2xl font-bold mb-4\">3. Generate</h2>\n        <div className=\"space-y-4\">\n          <div className=\"flex items-center gap-3\">\n            <Checkbox checked={removeBackground} onCheckedChange={(c) => setRemoveBackground(c as boolean)} />\n            <Label>Remove background automatically</Label>\n          </div>\n          {generating && <Progress value={progress} />}\n          <Button onClick={generateMockups} disabled={generating || !artwork || !selectedProducts.length} className=\"w-full\" size=\"lg\">\n            {generating ? <Loader2 className=\"mr-2 animate-spin\" /> : <Sparkles className=\"mr-2\" />}\n            Generate {selectedProducts.length} Mockup{selectedProducts.length !== 1 ? 's' : ''}\n          </Button>\n        </div>\n      </Card>\n\n      {mockups.length > 0 && <MockupPreview mockups={mockups} onAddToStore={() => {}} />}\n    </div>\n  );\n}\n","import { useState } from 'react';\nimport { Card } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport DashboardNav from '@/components/DashboardNav';\nimport StudioUpload from '@/components/studio/StudioUpload';\nimport StudioQueue from '@/components/studio/StudioQueue';\nimport StudioPublished from '@/components/studio/StudioPublished';\nimport StudioMockups from '@/components/studio/StudioMockups';\nimport { Upload, Clock, CheckCircle, Sparkles, Shirt } from 'lucide-react';\n\n\nexport default function Studio() {\n  const [activeTab, setActiveTab] = useState('upload');\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50\">\n      <DashboardNav />\n      \n      <main className=\"max-w-7xl mx-auto px-4 py-8\">\n        <div className=\"mb-8 text-center\">\n          <div className=\"flex items-center justify-center gap-3 mb-4\">\n            <Sparkles className=\"w-10 h-10 text-purple-600\" />\n            <h1 className=\"text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent\">\n              Creator Studio\n            </h1>\n          </div>\n          <p className=\"text-xl text-gray-600 max-w-2xl mx-auto\">\n            Upload your idea. We do the rest.\n          </p>\n          <p className=\"text-gray-500 mt-2\">\n            Drop your art, notes, or rough drafts. AI turns them into polished products while you sleep.\n          </p>\n        </div>\n\n        <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\n          <TabsList className=\"grid w-full max-w-2xl mx-auto grid-cols-4 mb-8\">\n            <TabsTrigger value=\"upload\" className=\"flex items-center gap-2\">\n              <Upload className=\"w-4 h-4\" />\n              Upload\n            </TabsTrigger>\n            <TabsTrigger value=\"mockups\" className=\"flex items-center gap-2\">\n              <Shirt className=\"w-4 h-4\" />\n              Mockups\n            </TabsTrigger>\n            <TabsTrigger value=\"processing\" className=\"flex items-center gap-2\">\n              <Clock className=\"w-4 h-4\" />\n              Processing\n            </TabsTrigger>\n            <TabsTrigger value=\"published\" className=\"flex items-center gap-2\">\n              <CheckCircle className=\"w-4 h-4\" />\n              Published\n            </TabsTrigger>\n          </TabsList>\n\n\n          <TabsContent value=\"upload\">\n            <StudioUpload />\n          </TabsContent>\n\n          <TabsContent value=\"mockups\">\n            <StudioMockups />\n          </TabsContent>\n\n          <TabsContent value=\"processing\">\n            <StudioQueue />\n          </TabsContent>\n\n          <TabsContent value=\"published\">\n            <StudioPublished />\n          </TabsContent>\n\n        </Tabs>\n      </main>\n    </div>\n  );\n}\n"],"names":["StudioUpload","user","useAuth","toast","useToast","uploading","setUploading","useState","dragActive","setDragActive","files","setFiles","idea","setIdea","productType","setProductType","handleDrag","useCallback","e","handleDrop","handleFileChange","handleSubmit","data","error","supabase","jsxs","jsx","Card","Upload","Button","file","i","Label","Textarea","Fragment","Loader2","Sparkles","StudioQueue","queue","setQueue","loading","setLoading","useEffect","loadQueue","getStatusColor","status","item","Badge","Eye","Progress","CheckCircle","StudioPublished","products","setProducts","loadProducts","TrendingUp","product","DollarSign","Edit","ExternalLink","MockupTemplateGrid","selectedProducts","onToggleProduct","isSelected","Check","getProductEmoji","id","MockupPreview","mockups","onAddToStore","adding","setAdding","addAllToStore","mockup","productError","variantInfo","ShoppingCart","idx","Package","ReferenceImageUpload","onImagesChange","maxImages","images","setImages","handleUpload","newImages","fileExt","fileName","publicUrl","reader","updated","img","removeImage","index","_","X","ImageIcon","AIStyleAnalyzer","referenceImages","analyzing","setAnalyzing","analysis","setAnalysis","showAnalysis","setShowAnalysis","analyzeStyle","PRODUCT_TYPES","StudioMockups","artwork","setArtwork","artworkPreview","setArtworkPreview","setSelectedProducts","removeBackground","setRemoveBackground","generating","setGenerating","progress","setProgress","setMockups","setReferenceImages","toggleProduct","productId","prev","generateMockups","progressInterval","Wand2","Checkbox","c","Studio","activeTab","setActiveTab","DashboardNav","Tabs","TabsList","TabsTrigger","Shirt","Clock","TabsContent"],"mappings":"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"}
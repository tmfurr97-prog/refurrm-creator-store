import{j as e,o as v,r as d,Q as O,aa as b,ab as L,q as S,ac as W,ad as I,ae as D,af as T,X as Y}from"./react-vendor-zXfd7Ve7.js";import{B as n,h as N,L as f,I as h,T as q,s as g,C as w}from"./index-k1V3dZSG.js";import{P as z}from"./progress-DEvZflFE.js";import{u as F}from"./useOnboarding-x6isSMgV.js";import{G as p}from"./vendor-BOHFvtXa.js";import{S as y}from"./switch-IuCVSr7H.js";import"./ui-vendor-BrpyYz2q.js";import"./supabase-CH0YqYdn.js";const k=({onStart:a})=>e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"relative w-full h-64 rounded-xl overflow-hidden mb-8",children:e.jsx("img",{src:"https://d64gsuwffb70l.cloudfront.net/6924b1f0076ff3ce4a9b699a_1764042306409_9f581606.webp",alt:"Welcome",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-pale skin-100 dark:bg-pale skin-900/30 rounded-full",children:[e.jsx(v,{className:"w-4 h-4 text-pale skin-600"}),e.jsx("span",{className:"text-sm font-medium text-pale skin-600 dark:text-pale skin-400",children:"Let's Get Started"})]}),e.jsx("h2",{className:"text-3xl font-bold",children:"Welcome to Your Platform!"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"We'll guide you through setting up your first product, customizing your storefront, connecting integrations, and launching your first email campaign. This will only take a few minutes!"})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pt-4",children:e.jsxs(n,{size:"lg",onClick:a,className:"gap-2",children:[e.jsx(v,{className:"w-4 h-4"}),"Start Setup"]})})]}),A=({onNext:a,onSkip:i})=>{const{user:r}=N(),[c,o]=d.useState(!1),[s,l]=d.useState({name:"",description:"",price:""}),m=async t=>{if(t.preventDefault(),!r)return;o(!0);const{error:u}=await g.from("products").insert({user_id:r.id,name:s.name,description:s.description,price:parseFloat(s.price),image_url:"https://d64gsuwffb70l.cloudfront.net/6924b1f0076ff3ce4a9b699a_1764042308285_1b3bb9ef.webp"});o(!1),u?p.error("Failed to create product"):(p.success("Product created!"),a())};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("img",{src:"https://d64gsuwffb70l.cloudfront.net/6924b1f0076ff3ce4a9b699a_1764042308285_1b3bb9ef.webp",alt:"Product",className:"w-full h-48 object-cover rounded-xl"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(O,{className:"w-6 h-6"}),"Create Your First Product"]}),e.jsx("p",{className:"text-muted-foreground",children:"Add a product to start selling"})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg flex gap-3",children:[e.jsx(b,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:"Tip: You can always edit or add more products later from the Products page."})]}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(f,{children:"Product Name"}),e.jsx(h,{value:s.name,onChange:t=>l({...s,name:t.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(f,{children:"Description"}),e.jsx(q,{value:s.description,onChange:t=>l({...s,description:t.target.value})})]}),e.jsxs("div",{children:[e.jsx(f,{children:"Price ($)"}),e.jsx(h,{type:"number",step:"0.01",value:s.price,onChange:t=>l({...s,price:t.target.value}),required:!0})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(n,{type:"submit",disabled:c,className:"flex-1",children:"Create Product"}),e.jsx(n,{type:"button",variant:"outline",onClick:i,children:"Skip"})]})]})]})},G=({onNext:a,onSkip:i})=>{const{user:r}=N(),[c,o]=d.useState(!1),[s,l]=d.useState(""),m=async t=>{if(t.preventDefault(),!r)return;o(!0);const{error:u}=await g.from("user_profiles").update({store_name:s,store_url:s.toLowerCase().replace(/\s+/g,"-")}).eq("id",r.id);o(!1),u?p.error("Failed to save store settings"):(p.success("Store settings saved!"),a())};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("img",{src:"https://d64gsuwffb70l.cloudfront.net/6924b1f0076ff3ce4a9b699a_1764042310071_3ce236d5.webp",alt:"Storefront",className:"w-full h-48 object-cover rounded-xl"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(L,{className:"w-6 h-6"}),"Name Your Store"]}),e.jsx("p",{className:"text-muted-foreground",children:"Choose a name for your online store"})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg flex gap-3",children:[e.jsx(b,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:"Tip: Choose a memorable name that represents your brand. You can change it later!"})]}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(f,{children:"Store Name"}),e.jsx(h,{value:s,onChange:t=>l(t.target.value),placeholder:"My Awesome Store",required:!0})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(n,{type:"submit",disabled:c,className:"flex-1",children:"Save & Continue"}),e.jsx(n,{type:"button",variant:"outline",onClick:i,children:"Skip"})]})]})]})},B=({onNext:a,onSkip:i})=>{const r=S();return e.jsxs("div",{className:"space-y-6",children:[e.jsx("img",{src:"https://d64gsuwffb70l.cloudfront.net/6924b1f0076ff3ce4a9b699a_1764042311415_64fe353a.webp",alt:"Integrations",className:"w-full h-48 object-cover rounded-xl"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(W,{className:"w-6 h-6"}),"Connect Integrations"]}),e.jsx("p",{className:"text-muted-foreground",children:"Connect your favorite tools to automate your workflow"})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg flex gap-3",children:[e.jsx(b,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:"Tip: Integrations help you sync data, automate tasks, and connect with other platforms you already use."})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-pale skin-500 to-pink-500 rounded-lg"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Stripe"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Payment processing"})]})]}),e.jsx(n,{size:"sm",variant:"outline",children:"Connect"})]}),e.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"SendGrid"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Email delivery"})]})]}),e.jsx(n,{size:"sm",variant:"outline",children:"Connect"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs(n,{onClick:()=>r("/integrations"),className:"flex-1 gap-2",children:[e.jsx(I,{className:"w-4 h-4"}),"View All Integrations"]}),e.jsx(n,{variant:"outline",onClick:a,children:"Continue"}),e.jsx(n,{variant:"ghost",onClick:i,children:"Skip"})]})]})},M=({onNext:a,onSkip:i})=>{const{user:r}=N(),[c,o]=d.useState(!1),[s,l]=d.useState({fromName:"",enableWelcome:!0,enableOrderConfirm:!0}),m=async t=>{if(t.preventDefault(),!r)return;o(!0);const{error:u}=await g.from("user_profiles").update({email_from_name:s.fromName}).eq("id",r.id),{error:j}=await g.from("email_settings").upsert({user_id:r.id,from_name:s.fromName,enable_welcome_email:s.enableWelcome,enable_order_confirmation:s.enableOrderConfirm,updated_at:new Date().toISOString()},{onConflict:"user_id"});o(!1),u||j?p.error("Failed to save email settings"):(p.success("Email settings saved!"),a())};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("img",{src:"https://d64gsuwffb70l.cloudfront.net/6924b1f0076ff3ce4a9b699a_1764042312587_e702b6a9.webp",alt:"Email Campaign",className:"w-full h-48 object-cover rounded-xl"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(D,{className:"w-6 h-6"}),"Configure Email Settings"]}),e.jsx("p",{className:"text-muted-foreground",children:"Set up how your emails will appear to customers"})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg flex gap-3",children:[e.jsx(b,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:"Tip: Use your brand name so customers recognize your emails!"})]}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(f,{children:"From Name"}),e.jsx(h,{value:s.fromName,onChange:t=>l({...s,fromName:t.target.value}),placeholder:"Your Store Name",required:!0})]}),e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(f,{children:"Welcome emails"}),e.jsx(y,{checked:s.enableWelcome,onCheckedChange:t=>l({...s,enableWelcome:t})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(f,{children:"Order confirmations"}),e.jsx(y,{checked:s.enableOrderConfirm,onCheckedChange:t=>l({...s,enableOrderConfirm:t})})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(n,{type:"submit",disabled:c,className:"flex-1",children:"Save & Continue"}),e.jsx(n,{type:"button",variant:"outline",onClick:i,children:"Skip"})]})]})]})},x=[{id:0,title:"Welcome",component:k},{id:1,title:"Product",component:A},{id:2,title:"Storefront",component:G},{id:3,title:"Integrations",component:B},{id:4,title:"Email",component:M}];function K(){const a=S(),{progress:i,updateStep:r,completeOnboarding:c,startOnboarding:o}=F(),[s,l]=d.useState(0),[m,t]=d.useState(!1);d.useEffect(()=>{i&&(l(i.current_step),t(!0))},[i]);const u=async()=>{await o(),t(!0),l(1)},j=async()=>{s>0&&await r(s+1),s===x.length-1?(await c(),a("/store-builder")):l(s+1)},C=async()=>{s>0&&await r(s+1),s===x.length-1?(await c(),a("/dashboard")):l(s+1)},_=async()=>{await c(),a("/dashboard")},P=(s+1)/x.length*100,E=x[s].component;return s===x.length?e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-pale skin-50 to-blue-50 dark:from-gray-900 dark:to-gray-800",children:e.jsxs(w,{className:"w-full max-w-2xl p-8 text-center space-y-6",children:[e.jsx("img",{src:"https://d64gsuwffb70l.cloudfront.net/6924b1f0076ff3ce4a9b699a_1764042313486_922a051f.webp",alt:"Success",className:"w-full h-64 object-cover rounded-xl"}),e.jsx(T,{className:"w-16 h-16 text-green-600 mx-auto"}),e.jsx("h2",{className:"text-3xl font-bold",children:"You're All Set!"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"Your account is ready. Let's start building your business!"}),e.jsx(n,{size:"lg",onClick:()=>a("/dashboard"),children:"Go to Dashboard"})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pale skin-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 p-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto py-8",children:[m&&e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Step ",s+1," of ",x.length]}),e.jsx("h1",{className:"text-2xl font-bold",children:x[s].title})]}),e.jsx(n,{variant:"ghost",size:"icon",onClick:_,children:e.jsx(Y,{className:"w-5 h-5"})})]}),e.jsx(z,{value:P,className:"h-2"})]}),e.jsx(w,{className:"p-8",children:s===0?e.jsx(k,{onStart:u}):e.jsx(E,{onNext:j,onSkip:C})})]})})}export{K as default};
//# sourceMappingURL=Onboarding-DxqEBtkI.js.map

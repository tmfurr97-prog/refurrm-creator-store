{"version":3,"file":"Subscriptions-Dhr66WFU.js","sources":["../../src/components/UsageProgressBars.tsx","../../src/components/BillingHistoryTable.tsx","../../src/components/PlanComparisonCards.tsx","../../src/components/PaymentMethodCard.tsx","../../src/components/TrialCountdown.tsx","../../src/components/TrialBadge.tsx","../../src/components/ui/alert-dialog.tsx","../../src/pages/Subscriptions.tsx"],"sourcesContent":["import { Progress } from '@/components/ui/progress';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { ShoppingBag, Users, Mail, Calendar } from 'lucide-react';\n\ninterface UsageLimit {\n  label: string;\n  current: number;\n  limit: number;\n  icon: any;\n}\n\ninterface UsageProgressBarsProps {\n  planTier: string;\n}\n\nexport default function UsageProgressBars({ planTier }: UsageProgressBarsProps) {\n  const limits: UsageLimit[] = planTier === 'pro' ? [\n    { label: 'Products', current: 45, limit: 100, icon: ShoppingBag },\n    { label: 'Customers', current: 234, limit: 1000, icon: Users },\n    { label: 'Emails Sent', current: 1250, limit: 5000, icon: Mail },\n    { label: 'Bookings', current: 18, limit: 50, icon: Calendar }\n  ] : [\n    { label: 'Products', current: 8, limit: 10, icon: ShoppingBag },\n    { label: 'Customers', current: 45, limit: 100, icon: Users },\n    { label: 'Emails Sent', current: 320, limit: 500, icon: Mail },\n    { label: 'Bookings', current: 7, limit: 10, icon: Calendar }\n  ];\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>Usage Limits</CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-6\">\n        {limits.map((item) => {\n          const percentage = (item.current / item.limit) * 100;\n          const Icon = item.icon;\n          return (\n            <div key={item.label}>\n              <div className=\"flex items-center justify-between mb-2\">\n                <div className=\"flex items-center gap-2\">\n                  <Icon className=\"h-4 w-4 text-gray-500\" />\n                  <span className=\"font-medium\">{item.label}</span>\n                </div>\n                <span className=\"text-sm text-gray-600\">\n                  {item.current} / {item.limit}\n                </span>\n              </div>\n              <Progress value={percentage} className=\"h-2\" />\n            </div>\n          );\n        })}\n      </CardContent>\n    </Card>\n  );\n}\n","import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Download } from 'lucide-react';\n\ninterface Invoice {\n  id: string;\n  date: string;\n  amount: number;\n  status: string;\n  invoiceUrl: string;\n}\n\nexport default function BillingHistoryTable() {\n  const invoices: Invoice[] = [\n    { id: 'INV-001', date: '2024-11-01', amount: 29.00, status: 'paid', invoiceUrl: '#' },\n    { id: 'INV-002', date: '2024-10-01', amount: 29.00, status: 'paid', invoiceUrl: '#' },\n    { id: 'INV-003', date: '2024-09-01', amount: 29.00, status: 'paid', invoiceUrl: '#' },\n    { id: 'INV-004', date: '2024-08-01', amount: 29.00, status: 'paid', invoiceUrl: '#' }\n  ];\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>Billing History</CardTitle>\n      </CardHeader>\n      <CardContent>\n        <Table>\n          <TableHeader>\n            <TableRow>\n              <TableHead>Invoice</TableHead>\n              <TableHead>Date</TableHead>\n              <TableHead>Amount</TableHead>\n              <TableHead>Status</TableHead>\n              <TableHead>Action</TableHead>\n            </TableRow>\n          </TableHeader>\n          <TableBody>\n            {invoices.map((invoice) => (\n              <TableRow key={invoice.id}>\n                <TableCell className=\"font-medium\">{invoice.id}</TableCell>\n                <TableCell>{new Date(invoice.date).toLocaleDateString()}</TableCell>\n                <TableCell>${invoice.amount.toFixed(2)}</TableCell>\n                <TableCell>\n                  <Badge variant={invoice.status === 'paid' ? 'default' : 'destructive'}>\n                    {invoice.status}\n                  </Badge>\n                </TableCell>\n                <TableCell>\n                  <Button variant=\"ghost\" size=\"sm\">\n                    <Download className=\"h-4 w-4\" />\n                  </Button>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </CardContent>\n    </Card>\n  );\n}\n","import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Check } from 'lucide-react';\nimport { useNavigate } from 'react-router-dom';\n\ninterface PlanComparisonCardsProps {\n  currentPlan: string;\n  isVip?: boolean;\n}\n\n\nexport default function PlanComparisonCards({ currentPlan, isVip }: PlanComparisonCardsProps) {\n  const navigate = useNavigate();\n\n  // Don't show plan options if user is VIP\n  if (isVip) {\n    return (\n      <Card>\n        <CardHeader>\n          <CardTitle>VIP Premium Access</CardTitle>\n          <CardDescription>You have unlimited access to all features</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"border-2 border-pale skin-500 rounded-lg p-6 bg-gradient-to-r from-pale skin-50 to-pink-50\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"font-bold text-2xl text-pale skin-900\">VIP Premium</h3>\n              <Badge className=\"bg-gradient-to-r from-pale skin-600 to-pink-600\">Special Access</Badge>\n            </div>\n            <p className=\"text-4xl font-bold mb-4 text-pale skin-900\">Free<span className=\"text-sm text-gray-600\">/forever</span></p>\n            <ul className=\"space-y-2 mb-4\">\n              <li className=\"flex items-center gap-2 text-sm\">\n                <Check className=\"h-4 w-4 text-pale skin-600\" />\n                Unlimited Products\n              </li>\n              <li className=\"flex items-center gap-2 text-sm\">\n                <Check className=\"h-4 w-4 text-pale skin-600\" />\n                Unlimited Customers\n              </li>\n              <li className=\"flex items-center gap-2 text-sm\">\n                <Check className=\"h-4 w-4 text-pale skin-600\" />\n                Unlimited Emails\n              </li>\n              <li className=\"flex items-center gap-2 text-sm\">\n                <Check className=\"h-4 w-4 text-pale skin-600\" />\n                Unlimited Bookings\n              </li>\n              <li className=\"flex items-center gap-2 text-sm\">\n                <Check className=\"h-4 w-4 text-pale skin-600\" />\n                All AI Tools & Features\n              </li>\n              <li className=\"flex items-center gap-2 text-sm\">\n                <Check className=\"h-4 w-4 text-pale skin-600\" />\n                Priority Support\n              </li>\n            </ul>\n            <p className=\"text-sm text-gray-600 italic\">Thank you for being a valued member of our community!</p>\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  const plans = [\n    {\n      name: 'Starter',\n      price: 9,\n      features: ['10 Products', '100 Customers', '500 Emails/mo', 'Basic Analytics']\n    },\n    {\n      name: 'Pro',\n      price: 29,\n      features: ['100 Products', '1000 Customers', '5000 Emails/mo', 'Advanced Analytics', 'AI Tools']\n    },\n    {\n      name: 'Enterprise',\n      price: 99,\n      features: ['Unlimited Products', 'Unlimited Customers', 'Unlimited Emails', 'Priority Support', 'Custom Features']\n    }\n  ];\n\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>Available Plans</CardTitle>\n        <CardDescription>Upgrade or downgrade your subscription</CardDescription>\n      </CardHeader>\n      <CardContent>\n        <div className=\"grid md:grid-cols-3 gap-4\">\n          {plans.map((plan) => (\n            <div key={plan.name} className=\"border rounded-lg p-4 relative\">\n              {currentPlan === plan.name.toLowerCase() && (\n                <Badge className=\"absolute top-2 right-2\">Current</Badge>\n              )}\n              <h3 className=\"font-bold text-lg mb-2\">{plan.name}</h3>\n              <p className=\"text-3xl font-bold mb-4\">${plan.price}<span className=\"text-sm text-gray-500\">/mo</span></p>\n              <ul className=\"space-y-2 mb-4\">\n                {plan.features.map((feature) => (\n                  <li key={feature} className=\"flex items-center gap-2 text-sm\">\n                    <Check className=\"h-4 w-4 text-green-600\" />\n                    {feature}\n                  </li>\n                ))}\n              </ul>\n              <Button \n                className=\"w-full\" \n                variant={currentPlan === plan.name.toLowerCase() ? 'outline' : 'default'}\n                disabled={currentPlan === plan.name.toLowerCase()}\n                onClick={() => navigate('/pricing')}\n              >\n                {currentPlan === plan.name.toLowerCase() ? 'Current Plan' : 'Select Plan'}\n              </Button>\n            </div>\n          ))}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { CreditCard, Plus } from 'lucide-react';\nimport { useState } from 'react';\nimport { useToast } from '@/hooks/use-toast';\n\nexport default function PaymentMethodCard() {\n  const [loading, setLoading] = useState(false);\n  const { toast } = useToast();\n\n  const paymentMethod = {\n    brand: 'Visa',\n    last4: '4242',\n    expMonth: 12,\n    expYear: 2025\n  };\n\n  const handleUpdatePayment = async () => {\n    setLoading(true);\n    // Simulate API call\n    setTimeout(() => {\n      toast({\n        title: \"Payment method updated\",\n        description: \"Your payment information has been updated successfully.\"\n      });\n      setLoading(false);\n    }, 1000);\n  };\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>Payment Method</CardTitle>\n      </CardHeader>\n      <CardContent>\n        <div className=\"flex items-center justify-between p-4 border rounded-lg mb-4\">\n          <div className=\"flex items-center gap-3\">\n            <CreditCard className=\"h-8 w-8 text-gray-400\" />\n            <div>\n              <p className=\"font-medium\">{paymentMethod.brand} ending in {paymentMethod.last4}</p>\n              <p className=\"text-sm text-gray-500\">\n                Expires {paymentMethod.expMonth}/{paymentMethod.expYear}\n              </p>\n            </div>\n          </div>\n        </div>\n        <div className=\"flex gap-2\">\n          <Button \n            variant=\"outline\" \n            className=\"flex-1\"\n            onClick={handleUpdatePayment}\n            disabled={loading}\n          >\n            Update Card\n          </Button>\n          <Button \n            variant=\"outline\"\n            onClick={handleUpdatePayment}\n            disabled={loading}\n          >\n            <Plus className=\"h-4 w-4 mr-2\" />\n            Add New\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Clock, Zap } from 'lucide-react';\nimport { Link } from 'react-router-dom';\nimport { Progress } from '@/components/ui/progress';\n\ninterface TrialCountdownProps {\n  trialEndDate: string;\n  currentPlan: string;\n}\n\nexport function TrialCountdown({ trialEndDate, currentPlan }: TrialCountdownProps) {\n  const now = new Date();\n  const endDate = new Date(trialEndDate);\n  const daysRemaining = Math.ceil((endDate.getTime() - now.getTime()) / (1000 * 60 * 60 * 24));\n  const hoursRemaining = Math.ceil((endDate.getTime() - now.getTime()) / (1000 * 60 * 60));\n  const progressValue = ((14 - daysRemaining) / 14) * 100;\n  \n  const isExpiringSoon = daysRemaining <= 3;\n\n  return (\n    <Card className={isExpiringSoon ? 'border-red-500 bg-red-50' : 'border-blue-500 bg-blue-50'}>\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2\">\n          <Clock className={isExpiringSoon ? 'text-red-600' : 'text-blue-600'} />\n          {currentPlan} Trial Active\n        </CardTitle>\n        <CardDescription>\n          {daysRemaining > 0 \n            ? `${daysRemaining} ${daysRemaining === 1 ? 'day' : 'days'} remaining (${hoursRemaining} hours)`\n            : 'Trial expires today!'}\n        </CardDescription>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <Progress value={progressValue} className=\"h-2\" />\n        <p className=\"text-sm text-muted-foreground\">\n          Your trial ends on {endDate.toLocaleDateString()} at {endDate.toLocaleTimeString()}\n        </p>\n        <Button asChild className=\"w-full\" variant={isExpiringSoon ? 'destructive' : 'default'}>\n          <Link to=\"/pricing\">\n            <Zap className=\"w-4 h-4 mr-2\" />\n            Upgrade Now to Keep Access\n          </Link>\n        </Button>\n      </CardContent>\n    </Card>\n  );\n}\n","import { Badge } from '@/components/ui/badge';\nimport { Clock, Crown } from 'lucide-react';\n\n\ninterface TrialBadgeProps {\n  daysRemaining?: number;\n  variant?: 'default' | 'compact';\n  isVip?: boolean;\n}\n\n\nexport function TrialBadge({ daysRemaining, variant = 'default', isVip }: TrialBadgeProps) {\n  // Show VIP badge if user is VIP\n  if (isVip) {\n    if (variant === 'compact') {\n      return (\n        <Badge className=\"ml-2 bg-gradient-to-r from-pale skin-600 to-pink-600\">\n          <Crown className=\"w-3 h-3 mr-1\" />\n          VIP\n        </Badge>\n      );\n    }\n    return (\n      <Badge className=\"text-sm px-3 py-1 bg-gradient-to-r from-pale skin-600 to-pink-600\">\n        <Crown className=\"w-4 h-4 mr-1.5\" />\n        VIP Premium\n      </Badge>\n    );\n  }\n\n  // Show trial badge if user is on trial\n  if (daysRemaining !== undefined) {\n    const isExpiringSoon = daysRemaining <= 3;\n    \n    if (variant === 'compact') {\n      return (\n        <Badge variant={isExpiringSoon ? 'destructive' : 'secondary'} className=\"ml-2\">\n          <Clock className=\"w-3 h-3 mr-1\" />\n          {daysRemaining}d trial\n        </Badge>\n      );\n    }\n\n    return (\n      <Badge \n        variant={isExpiringSoon ? 'destructive' : 'secondary'} \n        className=\"text-sm px-3 py-1\"\n      >\n        <Clock className=\"w-4 h-4 mr-1.5\" />\n        {daysRemaining} {daysRemaining === 1 ? 'day' : 'days'} left in trial\n      </Badge>\n    );\n  }\n\n  return null;\n}\n","import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-card p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 mt-4\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-primary/90\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground mt-2\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","import { useState, useEffect } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport DashboardNav from '@/components/DashboardNav';\nimport UsageProgressBars from '@/components/UsageProgressBars';\nimport BillingHistoryTable from '@/components/BillingHistoryTable';\nimport PlanComparisonCards from '@/components/PlanComparisonCards';\nimport PaymentMethodCard from '@/components/PaymentMethodCard';\nimport { TrialCountdown } from '@/components/TrialCountdown';\nimport { TrialBadge } from '@/components/TrialBadge';\nimport { supabase } from '@/lib/supabase';\nimport { useToast } from '@/hooks/use-toast';\nimport { Calendar, CreditCard, AlertCircle, CheckCircle, TrendingUp } from 'lucide-react';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n  AlertDialogTrigger,\n} from \"@/components/ui/alert-dialog\";\n\n\n\nexport default function Subscriptions() {\n  const [subscription, setSubscription] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n  const { toast } = useToast();\n\n  useEffect(() => {\n    loadSubscription();\n  }, []);\n\n  const loadSubscription = async () => {\n    try {\n      const { data: { user } } = await supabase.auth.getUser();\n      if (!user) return;\n\n      const { data, error } = await supabase\n        .from('subscriptions')\n        .select('*')\n        .eq('user_id', user.id)\n        .order('created_at', { ascending: false })\n        .limit(1)\n        .single();\n\n      if (error && error.code !== 'PGRST116') throw error;\n      setSubscription(data || { status: 'none', product_id: 'starter' });\n    } catch (error: any) {\n      toast({\n        title: \"Error loading subscription\",\n        description: error.message,\n        variant: \"destructive\"\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const cancelSubscription = async () => {\n    try {\n      const { error } = await supabase.functions.invoke('cancel-subscription', {\n        body: { subscriptionId: subscription.stripe_subscription_id }\n      });\n\n      if (error) throw error;\n\n      toast({\n        title: \"Subscription canceled\",\n        description: \"Your subscription will remain active until the end of the billing period.\"\n      });\n      \n      loadSubscription();\n    } catch (error: any) {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\"\n      });\n    }\n  };\n\n  const getStatusBadge = (status: string) => {\n    const config: any = {\n      active: { variant: 'default', label: 'Active' },\n      canceled: { variant: 'secondary', label: 'Canceled' },\n      past_due: { variant: 'destructive', label: 'Past Due' },\n      none: { variant: 'outline', label: 'No Subscription' }\n    };\n    const { variant, label } = config[status] || config.none;\n    return <Badge variant={variant}>{label}</Badge>;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50\">\n        <DashboardNav />\n        <main className=\"max-w-7xl mx-auto px-4 py-8\">\n          <Card><CardContent className=\"p-8 text-center\">Loading...</CardContent></Card>\n        </main>\n      </div>\n    );\n  }\n\n  const calculateDaysRemaining = () => {\n    if (!subscription?.trial_end_date) return 0;\n    const now = new Date();\n    const endDate = new Date(subscription.trial_end_date);\n    return Math.ceil((endDate.getTime() - now.getTime()) / (1000 * 60 * 60 * 24));\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <DashboardNav />\n      <main className=\"max-w-7xl mx-auto px-4 py-8\">\n        <div className=\"flex justify-between items-center mb-8\">\n          <div className=\"flex items-center gap-3\">\n            <h1 className=\"text-3xl font-bold\">Subscription Management</h1>\n            {(subscription?.is_trial || subscription?.is_vip) && (\n              <TrialBadge \n                daysRemaining={subscription?.is_trial ? calculateDaysRemaining() : undefined}\n                isVip={subscription?.is_vip}\n                variant=\"compact\" \n              />\n            )}\n          </div>\n          {getStatusBadge(subscription?.status || 'none')}\n        </div>\n\n\n        {subscription?.is_trial && subscription?.trial_end_date && (\n          <div className=\"mb-6\">\n            <TrialCountdown \n              trialEndDate={subscription.trial_end_date} \n              currentPlan={subscription.tier || 'Pro'} \n            />\n          </div>\n        )}\n\n\n        <div className=\"grid lg:grid-cols-3 gap-6 mb-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Current Plan</CardTitle>\n              <CardDescription>Pro Plan</CardDescription>\n            </CardHeader>\n            <CardContent>\n              <p className=\"text-3xl font-bold mb-2\">$29<span className=\"text-lg text-gray-500\">/mo</span></p>\n              <div className=\"flex items-center gap-2 text-sm text-gray-600 mb-4\">\n                <Calendar className=\"h-4 w-4\" />\n                Next billing: {subscription?.current_period_end ? new Date(subscription.current_period_end).toLocaleDateString() : 'N/A'}\n              </div>\n              <Button className=\"w-full\" variant=\"outline\">\n                <TrendingUp className=\"h-4 w-4 mr-2\" />\n                Upgrade Plan\n              </Button>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader>\n              <CardTitle>Billing Status</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"flex items-center gap-3 mb-4\">\n                {subscription?.cancel_at_period_end ? (\n                  <AlertCircle className=\"h-8 w-8 text-orange-500\" />\n                ) : (\n                  <CheckCircle className=\"h-8 w-8 text-green-500\" />\n                )}\n                <div>\n                  <p className=\"font-semibold\">\n                    {subscription?.cancel_at_period_end ? 'Canceling Soon' : 'Active & Current'}\n                  </p>\n                  <p className=\"text-sm text-gray-500\">All payments up to date</p>\n                </div>\n              </div>\n              {subscription?.status === 'active' && !subscription?.cancel_at_period_end && (\n                <AlertDialog>\n                  <AlertDialogTrigger asChild>\n                    <Button variant=\"destructive\" className=\"w-full\">Cancel Subscription</Button>\n                  </AlertDialogTrigger>\n                  <AlertDialogContent>\n                    <AlertDialogHeader>\n                      <AlertDialogTitle>Are you sure?</AlertDialogTitle>\n                      <AlertDialogDescription>\n                        Your subscription will remain active until the end of your billing period. You can reactivate anytime before then.\n                      </AlertDialogDescription>\n                    </AlertDialogHeader>\n                    <AlertDialogFooter>\n                      <AlertDialogCancel>Keep Subscription</AlertDialogCancel>\n                      <AlertDialogAction onClick={cancelSubscription}>Cancel Subscription</AlertDialogAction>\n                    </AlertDialogFooter>\n                  </AlertDialogContent>\n                </AlertDialog>\n              )}\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader>\n              <CardTitle>Total Spent</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <p className=\"text-3xl font-bold mb-2\">$116.00</p>\n              <p className=\"text-sm text-gray-500 mb-4\">4 months subscribed</p>\n              <div className=\"flex items-center gap-2 text-sm\">\n                <CreditCard className=\"h-4 w-4 text-gray-400\" />\n                <span className=\"text-gray-600\">Visa ending in 4242</span>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        <div className=\"grid lg:grid-cols-2 gap-6 mb-6\">\n          <UsageProgressBars planTier=\"pro\" />\n          <PaymentMethodCard />\n        </div>\n\n        <div className=\"mb-6\">\n          <PlanComparisonCards currentPlan=\"pro\" isVip={subscription?.is_vip} />\n        </div>\n\n\n        <BillingHistoryTable />\n      </main>\n    </div>\n  );\n}\n"],"names":["UsageProgressBars","planTier","limits","ShoppingBag","Users","Mail","Calendar","Card","jsx","CardHeader","CardTitle","CardContent","item","percentage","Icon","jsxs","Progress","BillingHistoryTable","invoices","Table","TableHeader","TableRow","TableHead","TableBody","invoice","TableCell","Badge","Button","Download","PlanComparisonCards","currentPlan","isVip","navigate","useNavigate","CardDescription","Check","plans","plan","feature","PaymentMethodCard","loading","setLoading","useState","toast","useToast","paymentMethod","handleUpdatePayment","CreditCard","Plus","TrialCountdown","trialEndDate","now","endDate","daysRemaining","hoursRemaining","progressValue","isExpiringSoon","Clock","Link","Zap","TrialBadge","variant","Crown","AlertDialog","AlertDialogPrimitive.Root","AlertDialogTrigger","AlertDialogPrimitive.Trigger","AlertDialogPortal","AlertDialogPrimitive.Portal","AlertDialogOverlay","React.forwardRef","className","props","ref","AlertDialogPrimitive.Overlay","cn","AlertDialogContent","AlertDialogPrimitive.Content","AlertDialogHeader","AlertDialogFooter","AlertDialogTitle","AlertDialogPrimitive.Title","AlertDialogDescription","AlertDialogPrimitive.Description","AlertDialogAction","AlertDialogPrimitive.Action","buttonVariants","AlertDialogCancel","AlertDialogPrimitive.Cancel","Subscriptions","subscription","setSubscription","useEffect","loadSubscription","user","supabase","data","error","cancelSubscription","getStatusBadge","status","config","label","DashboardNav","calculateDaysRemaining","TrendingUp","AlertCircle","CheckCircle"],"mappings":"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"}
{"version":3,"file":"Profile-DfujxLNY.js","sources":["../../src/pages/Profile.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { supabase } from '@/lib/supabase';\nimport DashboardNav from '@/components/DashboardNav';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Loader2, Palette, Store, Calendar } from 'lucide-react';\n\nexport default function Profile() {\n  const { user } = useAuth();\n  const [campaigns, setCampaigns] = useState<any[]>([]);\n  const [stores, setStores] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (user) {\n      loadUserData();\n    }\n  }, [user]);\n\n  const loadUserData = async () => {\n    try {\n      const [campaignsRes, storesRes] = await Promise.all([\n        supabase.from('artist_campaigns').select('*').eq('user_id', user?.id).order('created_at', { ascending: false }),\n        supabase.from('generated_stores').select('*').eq('user_id', user?.id).order('created_at', { ascending: false })\n      ]);\n\n      if (campaignsRes.data) setCampaigns(campaignsRes.data);\n      if (storesRes.data) setStores(storesRes.data);\n    } catch (error) {\n      console.error('Error loading user data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-[#EDDACE]\">\n      <DashboardNav />\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-[#5C4033] mb-2\">My Profile</h1>\n          <p className=\"text-[#1E8D70]\">{user?.email}</p>\n        </div>\n\n        <Tabs defaultValue=\"campaigns\" className=\"w-full\">\n          <TabsList className=\"grid w-full grid-cols-2 max-w-md bg-[#1E8D70]/20\">\n            <TabsTrigger value=\"campaigns\" className=\"data-[state=active]:bg-[#C24C1A] data-[state=active]:text-white\">\n              <Palette className=\"mr-2 h-4 w-4\" />\n              Campaigns ({campaigns.length})\n            </TabsTrigger>\n            <TabsTrigger value=\"stores\" className=\"data-[state=active]:bg-[#C24C1A] data-[state=active]:text-white\">\n              <Store className=\"mr-2 h-4 w-4\" />\n              Stores ({stores.length})\n            </TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"campaigns\" className=\"mt-6\">\n            {loading ? (\n              <div className=\"flex justify-center py-12\">\n                <Loader2 className=\"h-8 w-8 animate-spin text-white\" />\n              </div>\n            ) : campaigns.length === 0 ? (\n              <Card>\n                <CardContent className=\"py-12 text-center\">\n                  <Palette className=\"mx-auto h-12 w-12 text-muted-foreground mb-4\" />\n                  <p className=\"text-muted-foreground\">No campaigns generated yet</p>\n                </CardContent>\n              </Card>\n            ) : (\n              <div className=\"grid gap-6\">\n                {campaigns.map((campaign) => (\n                  <Card key={campaign.id}>\n                    <CardHeader>\n                      <div className=\"flex justify-between items-start\">\n                        <div className=\"flex-1\">\n                          <CardTitle>{campaign.product_title || 'Untitled Campaign'}</CardTitle>\n                          <CardDescription className=\"flex items-center mt-2\">\n                            <Calendar className=\"mr-2 h-4 w-4\" />\n                            {new Date(campaign.created_at).toLocaleDateString()}\n                          </CardDescription>\n                        </div>\n                        <Badge>Campaign</Badge>\n                      </div>\n                    </CardHeader>\n                    <CardContent className=\"space-y-4\">\n                      {campaign.image_url && (\n                        <img src={campaign.image_url} alt=\"Artwork\" className=\"w-full max-w-xs rounded-lg\" />\n                      )}\n                      {campaign.product_description && (\n                        <p className=\"text-sm\">{campaign.product_description}</p>\n                      )}\n                      {campaign.product_price && (\n                        <p className=\"text-blue-600 font-semibold\">{campaign.product_price}</p>\n                      )}\n                    </CardContent>\n                  </Card>\n                ))}\n              </div>\n            )}\n          </TabsContent>\n\n          <TabsContent value=\"stores\" className=\"mt-6\">\n            {loading ? (\n              <div className=\"flex justify-center py-12\">\n                <Loader2 className=\"h-8 w-8 animate-spin text-white\" />\n              </div>\n            ) : stores.length === 0 ? (\n              <Card>\n                <CardContent className=\"py-12 text-center\">\n                  <Store className=\"mx-auto h-12 w-12 text-muted-foreground mb-4\" />\n                  <p className=\"text-muted-foreground\">No stores generated yet</p>\n                </CardContent>\n              </Card>\n            ) : (\n              <div className=\"grid gap-6\">\n                {stores.map((store) => (\n                  <Card key={store.id}>\n                    <CardHeader>\n                      <div className=\"flex justify-between items-start\">\n                        <div className=\"flex-1\">\n                          <CardTitle>{store.landing_headline || 'Untitled Store'}</CardTitle>\n                          <CardDescription className=\"flex items-center mt-2\">\n                            <Calendar className=\"mr-2 h-4 w-4\" />\n                            {new Date(store.created_at).toLocaleDateString()}\n                          </CardDescription>\n                        </div>\n                        <Badge variant=\"secondary\">Store</Badge>\n                      </div>\n                    </CardHeader>\n                    <CardContent className=\"space-y-3\">\n                      <p className=\"text-sm text-muted-foreground italic\">{store.idea_description}</p>\n                      {store.landing_subheadline && (\n                        <p className=\"text-sm font-medium\">{store.landing_subheadline}</p>\n                      )}\n                      {store.sales_price && (\n                        <p className=\"text-blue-600 font-semibold\">{store.sales_price}</p>\n                      )}\n                    </CardContent>\n                  </Card>\n                ))}\n              </div>\n            )}\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  );\n}\n"],"names":["Profile","user","useAuth","campaigns","setCampaigns","useState","stores","setStores","loading","setLoading","useEffect","loadUserData","campaignsRes","storesRes","supabase","error","jsxs","jsx","DashboardNav","Tabs","TabsList","TabsTrigger","Palette","Store","TabsContent","Loader2","Card","CardContent","campaign","CardHeader","CardTitle","CardDescription","Calendar","Badge","store"],"mappings":"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"}